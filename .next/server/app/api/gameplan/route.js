"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/gameplan/route";
exports.ids = ["app/api/gameplan/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgameplan%2Froute&page=%2Fapi%2Fgameplan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgameplan%2Froute.ts&appDir=%2FUsers%2Fxaelmac%2FDocuments%2FProjects%2Fjuice%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fxaelmac%2FDocuments%2FProjects%2Fjuice&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgameplan%2Froute&page=%2Fapi%2Fgameplan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgameplan%2Froute.ts&appDir=%2FUsers%2Fxaelmac%2FDocuments%2FProjects%2Fjuice%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fxaelmac%2FDocuments%2FProjects%2Fjuice&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_xaelmac_Documents_Projects_juice_app_api_gameplan_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/gameplan/route.ts */ \"(rsc)/./app/api/gameplan/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/gameplan/route\",\n        pathname: \"/api/gameplan\",\n        filename: \"route\",\n        bundlePath: \"app/api/gameplan/route\"\n    },\n    resolvedPagePath: \"/Users/xaelmac/Documents/Projects/juice/app/api/gameplan/route.ts\",\n    nextConfigOutput,\n    userland: _Users_xaelmac_Documents_Projects_juice_app_api_gameplan_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/gameplan/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnYW1lcGxhbiUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2FtZXBsYW4lMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnYW1lcGxhbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnhhZWxtYWMlMkZEb2N1bWVudHMlMkZQcm9qZWN0cyUyRmp1aWNlJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnhhZWxtYWMlMkZEb2N1bWVudHMlMkZQcm9qZWN0cyUyRmp1aWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2p1aWNlLz80MmI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy94YWVsbWFjL0RvY3VtZW50cy9Qcm9qZWN0cy9qdWljZS9hcHAvYXBpL2dhbWVwbGFuL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nYW1lcGxhbi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dhbWVwbGFuXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9nYW1lcGxhbi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy94YWVsbWFjL0RvY3VtZW50cy9Qcm9qZWN0cy9qdWljZS9hcHAvYXBpL2dhbWVwbGFuL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9nYW1lcGxhbi9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgameplan%2Froute&page=%2Fapi%2Fgameplan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgameplan%2Froute.ts&appDir=%2FUsers%2Fxaelmac%2FDocuments%2FProjects%2Fjuice%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fxaelmac%2FDocuments%2FProjects%2Fjuice&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/gameplan/route.ts":
/*!***********************************!*\
  !*** ./app/api/gameplan/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/openai */ \"(rsc)/./lib/openai.ts\");\n\n\nasync function POST(request) {\n    let body;\n    try {\n        body = await request.json();\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid JSON payload\"\n        }, {\n            status: 400\n        });\n    }\n    const { quarter, cards, userGoals } = body ?? {};\n    if (!quarter || typeof quarter !== \"string\") {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Quarter is required\"\n        }, {\n            status: 400\n        });\n    }\n    if (!Array.isArray(cards) || cards.length === 0) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"At least one card is required to build a gameplan\"\n        }, {\n            status: 400\n        });\n    }\n    try {\n        const plan = await (0,_lib_openai__WEBPACK_IMPORTED_MODULE_1__.generateGameplan)({\n            quarter,\n            cards,\n            userGoals\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            plan\n        });\n    } catch (error) {\n        console.error(\"Failed to generate gameplan\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Unable to generate gameplan right now\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2dhbWVwbGFuL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNLO0FBU3pDLGVBQWVFLEtBQUtDLE9BQWdCO0lBQ3pDLElBQUlDO0lBRUosSUFBSTtRQUNGQSxPQUFPLE1BQU1ELFFBQVFFLElBQUk7SUFDM0IsRUFBRSxPQUFPQyxPQUFPO1FBQ2QsT0FBT04scURBQVlBLENBQUNLLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXVCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQzVFO0lBRUEsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsU0FBUyxFQUFFLEdBQUdOLFFBQVEsQ0FBQztJQUUvQyxJQUFJLENBQUNJLFdBQVcsT0FBT0EsWUFBWSxVQUFVO1FBQzNDLE9BQU9SLHFEQUFZQSxDQUFDSyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFzQixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUMzRTtJQUVBLElBQUksQ0FBQ0ksTUFBTUMsT0FBTyxDQUFDSCxVQUFVQSxNQUFNSSxNQUFNLEtBQUssR0FBRztRQUMvQyxPQUFPYixxREFBWUEsQ0FBQ0ssSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBb0QsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDekc7SUFFQSxJQUFJO1FBQ0YsTUFBTU8sT0FBTyxNQUFNYiw2REFBZ0JBLENBQUM7WUFBRU87WUFBU0M7WUFBT0M7UUFBVTtRQUNoRSxPQUFPVixxREFBWUEsQ0FBQ0ssSUFBSSxDQUFDO1lBQUVTO1FBQUs7SUFDbEMsRUFBRSxPQUFPUixPQUFPO1FBQ2RTLFFBQVFULEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU9OLHFEQUFZQSxDQUFDSyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QyxHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUM3RjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vanVpY2UvLi9hcHAvYXBpL2dhbWVwbGFuL3JvdXRlLnRzPzQ4NzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2VuZXJhdGVHYW1lcGxhbiB9IGZyb20gJ0AvbGliL29wZW5haSc7XG5pbXBvcnQgeyBHYW1lcGxhblBheWxvYWRDYXJkIH0gZnJvbSAnQC90eXBlcyc7XG5cbmludGVyZmFjZSBHZW5lcmF0ZUdhbWVwbGFuUmVxdWVzdCB7XG4gIHF1YXJ0ZXI6IHN0cmluZztcbiAgY2FyZHM6IEdhbWVwbGFuUGF5bG9hZENhcmRbXTtcbiAgdXNlckdvYWxzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIGxldCBib2R5OiBHZW5lcmF0ZUdhbWVwbGFuUmVxdWVzdDtcblxuICB0cnkge1xuICAgIGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgSlNPTiBwYXlsb2FkJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICB9XG5cbiAgY29uc3QgeyBxdWFydGVyLCBjYXJkcywgdXNlckdvYWxzIH0gPSBib2R5ID8/IHt9O1xuXG4gIGlmICghcXVhcnRlciB8fCB0eXBlb2YgcXVhcnRlciAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1F1YXJ0ZXIgaXMgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gIH1cblxuICBpZiAoIUFycmF5LmlzQXJyYXkoY2FyZHMpIHx8IGNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQXQgbGVhc3Qgb25lIGNhcmQgaXMgcmVxdWlyZWQgdG8gYnVpbGQgYSBnYW1lcGxhbicgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcGxhbiA9IGF3YWl0IGdlbmVyYXRlR2FtZXBsYW4oeyBxdWFydGVyLCBjYXJkcywgdXNlckdvYWxzIH0pO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHBsYW4gfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIGdhbWVwbGFuJywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hYmxlIHRvIGdlbmVyYXRlIGdhbWVwbGFuIHJpZ2h0IG5vdycgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdlbmVyYXRlR2FtZXBsYW4iLCJQT1NUIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJxdWFydGVyIiwiY2FyZHMiLCJ1c2VyR29hbHMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJwbGFuIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/gameplan/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/openai.ts":
/*!***********************!*\
  !*** ./lib/openai.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adviseOnGameplan: () => (/* binding */ adviseOnGameplan),\n/* harmony export */   generateGameplan: () => (/* binding */ generateGameplan),\n/* harmony export */   getPerkSummary: () => (/* binding */ getPerkSummary)\n/* harmony export */ });\nconst DEFAULT_MODEL = \"gpt-5.0-mini\";\nconst GAMEPLAN_PRIORITY_VALUES = [\n    \"high\",\n    \"medium\",\n    \"low\"\n];\nconst OPENAI_API_URL = `${process.env.OPENAI_BASE_URL ?? \"https://api.openai.com/v1\"}/responses`;\nasync function callResponsesAPI(payload) {\n    const apiKey = process.env.OPENAI_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"OPENAI_API_KEY is not configured.\");\n    }\n    const response = await fetch(OPENAI_API_URL, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${apiKey}`\n        },\n        body: JSON.stringify(payload)\n    });\n    const data = await response.json().catch(()=>({}));\n    if (!response.ok) {\n        const message = data?.error?.message ?? \"OpenAI Responses API request failed\";\n        throw new Error(message);\n    }\n    return data;\n}\nfunction extractTextContent(payload) {\n    if (!payload) {\n        return \"\";\n    }\n    if (Array.isArray(payload.output_text)) {\n        return payload.output_text.join(\"\\n\");\n    }\n    if (typeof payload.output_text === \"string\") {\n        return payload.output_text;\n    }\n    const textChunks = [];\n    if (Array.isArray(payload.output)) {\n        for (const item of payload.output){\n            if (!Array.isArray(item?.content)) continue;\n            for (const block of item.content){\n                if (typeof block?.text === \"string\") {\n                    textChunks.push(block.text);\n                }\n            }\n        }\n    }\n    return textChunks.join(\"\\n\");\n}\nconst GAMEPLAN_TASK_SCHEMA = {\n    type: \"object\",\n    additionalProperties: false,\n    properties: {\n        id: {\n            type: \"string\"\n        },\n        title: {\n            type: \"string\"\n        },\n        description: {\n            type: \"string\"\n        },\n        priority: {\n            type: \"string\",\n            enum: GAMEPLAN_PRIORITY_VALUES\n        },\n        cardId: {\n            type: [\n                \"string\",\n                \"null\"\n            ]\n        },\n        perkId: {\n            type: [\n                \"string\",\n                \"null\"\n            ]\n        },\n        dueBy: {\n            type: [\n                \"string\",\n                \"null\"\n            ]\n        },\n        expectedValue: {\n            type: [\n                \"number\",\n                \"null\"\n            ]\n        }\n    },\n    required: [\n        \"id\",\n        \"title\",\n        \"description\",\n        \"priority\"\n    ]\n};\nconst GAMEPLAN_RESPONSE_SCHEMA = {\n    type: \"object\",\n    additionalProperties: false,\n    properties: {\n        summary: {\n            type: \"string\"\n        },\n        quarter: {\n            type: \"string\"\n        },\n        tasks: {\n            type: \"array\",\n            items: GAMEPLAN_TASK_SCHEMA,\n            minItems: 3\n        }\n    },\n    required: [\n        \"summary\",\n        \"quarter\",\n        \"tasks\"\n    ]\n};\nconst GAMEPLAN_CHAT_RESPONSE_SCHEMA = {\n    type: \"object\",\n    additionalProperties: false,\n    properties: {\n        assistant_message: {\n            type: \"string\"\n        },\n        updated_plan: {\n            type: \"object\",\n            additionalProperties: false,\n            properties: {\n                summary: {\n                    type: \"string\"\n                },\n                quarter: {\n                    type: \"string\"\n                },\n                tasks: {\n                    type: \"array\",\n                    items: GAMEPLAN_TASK_SCHEMA\n                }\n            },\n            required: [\n                \"summary\",\n                \"quarter\",\n                \"tasks\"\n            ]\n        }\n    },\n    required: [\n        \"assistant_message\"\n    ]\n};\nasync function getPerkSummary(prompt) {\n    const response = await callResponsesAPI({\n        model: DEFAULT_MODEL,\n        input: prompt\n    });\n    return extractTextContent(response);\n}\nfunction parseJson(payload, fallbackMessage) {\n    try {\n        return JSON.parse(payload);\n    } catch (error) {\n        console.warn(fallbackMessage, error);\n        throw new Error(\"Failed to parse AI response.\");\n    }\n}\nasync function generateGameplan(options) {\n    const { quarter, cards, userGoals } = options;\n    const planContext = JSON.stringify({\n        quarter,\n        userGoals,\n        cards\n    }, null, 2);\n    const response = await callResponsesAPI({\n        model: DEFAULT_MODEL,\n        temperature: 0.6,\n        input: [\n            {\n                role: \"system\",\n                content: \"You are an expert credit card rewards strategist. Create actionable quarterly plans that help cardholders use every benefit before it expires. Focus on tangible actions, realistic pacing, and estimated statement value.\"\n            },\n            {\n                role: \"user\",\n                content: `Generate a next-quarter execution plan using this JSON context. Reply **only** with JSON that follows the provided schema.\\n\\n${planContext}`\n            }\n        ],\n        response_format: {\n            type: \"json_schema\",\n            json_schema: {\n                name: \"gameplan_response\",\n                schema: GAMEPLAN_RESPONSE_SCHEMA,\n                strict: true\n            }\n        }\n    });\n    const payload = extractTextContent(response);\n    const gameplan = parseJson(payload, \"Unable to parse gameplan JSON from OpenAI\");\n    const normalizedTasks = gameplan.tasks.map((task)=>({\n            ...task,\n            cardId: task.cardId ?? undefined,\n            perkId: task.perkId ?? undefined,\n            dueBy: task.dueBy ?? undefined,\n            expectedValue: task.expectedValue ?? undefined\n        }));\n    return {\n        ...gameplan,\n        tasks: normalizedTasks\n    };\n}\nasync function adviseOnGameplan(options) {\n    const { quarter, currentPlan, history, latestUserMessage } = options;\n    const resolvedQuarter = quarter ?? currentPlan.quarter;\n    const planJson = JSON.stringify({\n        quarter: resolvedQuarter,\n        currentPlan\n    }, null, 2);\n    const input = [\n        {\n            role: \"system\",\n            content: \"You are the Juice AI Gameplan Advisor. Update plans for credit card perk usage with clear, budget-conscious actions. Adjust priorities, re-order tasks, or add new ones without inventing perks that do not exist.\"\n        },\n        {\n            role: \"assistant\",\n            content: `Current plan JSON:\\n${planJson}`\n        },\n        ...history.map((message)=>({\n                role: message.role,\n                content: message.content\n            })),\n        {\n            role: \"user\",\n            content: latestUserMessage\n        }\n    ];\n    const response = await callResponsesAPI({\n        model: DEFAULT_MODEL,\n        temperature: 0.5,\n        input,\n        response_format: {\n            type: \"json_schema\",\n            json_schema: {\n                name: \"gameplan_chat_response\",\n                schema: GAMEPLAN_CHAT_RESPONSE_SCHEMA,\n                strict: true\n            }\n        }\n    });\n    const payload = extractTextContent(response);\n    const parsed = parseJson(payload, \"Unable to parse gameplan advisor response\");\n    const normalizedPlan = parsed.updated_plan ? {\n        ...parsed.updated_plan,\n        tasks: parsed.updated_plan.tasks.map((task)=>({\n                ...task,\n                cardId: task.cardId ?? undefined,\n                perkId: task.perkId ?? undefined,\n                dueBy: task.dueBy ?? undefined,\n                expectedValue: task.expectedValue ?? undefined\n            }))\n    } : undefined;\n    return {\n        assistantMessage: parsed.assistant_message,\n        updatedPlan: normalizedPlan\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNEO0lBRUQsTUFBTTlFLFdBQVcsTUFBTUwsaUJBQWlCO1FBQ3RDd0QsT0FBTzlEO1FBQ1AwRSxhQUFhO1FBQ2JYO1FBQ0FhLGlCQUFpQjtZQUNmdEMsTUFBTTtZQUNOdUMsYUFBYTtnQkFDWEMsTUFBTTtnQkFDTkMsUUFBUXRCO2dCQUNSdUIsUUFBUTtZQUNWO1FBQ0Y7SUFDRjtJQUVBLE1BQU16RSxVQUFVa0IsbUJBQW1CZDtJQUNuQyxNQUFNaUYsU0FBUzVCLFVBR1p6RCxTQUFTO0lBRVosTUFBTXNGLGlCQUFpQkQsT0FBT2pDLFlBQVksR0FDdEM7UUFDRSxHQUFHaUMsT0FBT2pDLFlBQVk7UUFDdEJMLE9BQU9zQyxPQUFPakMsWUFBWSxDQUFDTCxLQUFLLENBQUM2QixHQUFHLENBQUNDLENBQUFBLE9BQVM7Z0JBQzVDLEdBQUdBLElBQUk7Z0JBQ1B0QyxRQUFRc0MsS0FBS3RDLE1BQU0sSUFBSXVDO2dCQUN2QnRDLFFBQVFxQyxLQUFLckMsTUFBTSxJQUFJc0M7Z0JBQ3ZCckMsT0FBT29DLEtBQUtwQyxLQUFLLElBQUlxQztnQkFDckJwQyxlQUFlbUMsS0FBS25DLGFBQWEsSUFBSW9DO1lBQ3ZDO0lBQ0YsSUFDQUE7SUFFSixPQUFPO1FBQ0xTLGtCQUFrQkYsT0FBT2xDLGlCQUFpQjtRQUMxQ3FDLGFBQWFGO0lBQ2Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2p1aWNlLy4vbGliL29wZW5haS50cz8wMGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEdhbWVwbGFuQ29udGVudCxcbiAgR2FtZXBsYW5QYXlsb2FkQ2FyZCxcbiAgR2FtZXBsYW5UYXNrLFxuICBHYW1lcGxhblRhc2tQcmlvcml0eVxufSBmcm9tICdAL3R5cGVzJztcblxuY29uc3QgREVGQVVMVF9NT0RFTCA9ICdncHQtNS4wLW1pbmknO1xuY29uc3QgR0FNRVBMQU5fUFJJT1JJVFlfVkFMVUVTID0gWydoaWdoJywgJ21lZGl1bScsICdsb3cnXSBhcyBjb25zdCBzYXRpc2ZpZXMgUmVhZG9ubHlBcnJheTxHYW1lcGxhblRhc2tQcmlvcml0eT47XG5cbmNvbnN0IE9QRU5BSV9BUElfVVJMID0gYCR7cHJvY2Vzcy5lbnYuT1BFTkFJX0JBU0VfVVJMID8/ICdodHRwczovL2FwaS5vcGVuYWkuY29tL3YxJ30vcmVzcG9uc2VzYDtcblxuYXN5bmMgZnVuY3Rpb24gY2FsbFJlc3BvbnNlc0FQSShwYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikge1xuICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWTtcblxuICBpZiAoIWFwaUtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcignT1BFTkFJX0FQSV9LRVkgaXMgbm90IGNvbmZpZ3VyZWQuJyk7XG4gIH1cblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKE9QRU5BSV9BUElfVVJMLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthcGlLZXl9YFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcbiAgfSk7XG5cbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcblxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGRhdGE/LmVycm9yPy5tZXNzYWdlID8/ICdPcGVuQUkgUmVzcG9uc2VzIEFQSSByZXF1ZXN0IGZhaWxlZCc7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEgYXMge1xuICAgIG91dHB1dD86IEFycmF5PHtcbiAgICAgIHJvbGU/OiBzdHJpbmc7XG4gICAgICBjb250ZW50PzogQXJyYXk8e1xuICAgICAgICB0eXBlPzogc3RyaW5nO1xuICAgICAgICB0ZXh0Pzogc3RyaW5nO1xuICAgICAgICBba2V5OiBzdHJpbmddOiB1bmtub3duO1xuICAgICAgfT47XG4gICAgfT47XG4gICAgb3V0cHV0X3RleHQ/OiBzdHJpbmdbXSB8IHN0cmluZztcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdFRleHRDb250ZW50KHBheWxvYWQ6IEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgY2FsbFJlc3BvbnNlc0FQST4+KSB7XG4gIGlmICghcGF5bG9hZCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHBheWxvYWQub3V0cHV0X3RleHQpKSB7XG4gICAgcmV0dXJuIHBheWxvYWQub3V0cHV0X3RleHQuam9pbignXFxuJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHBheWxvYWQub3V0cHV0X3RleHQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBheWxvYWQub3V0cHV0X3RleHQ7XG4gIH1cblxuICBjb25zdCB0ZXh0Q2h1bmtzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHBheWxvYWQub3V0cHV0KSkge1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBwYXlsb2FkLm91dHB1dCkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW0/LmNvbnRlbnQpKSBjb250aW51ZTtcbiAgICAgIGZvciAoY29uc3QgYmxvY2sgb2YgaXRlbS5jb250ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmxvY2s/LnRleHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGV4dENodW5rcy5wdXNoKGJsb2NrLnRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRleHRDaHVua3Muam9pbignXFxuJyk7XG59XG5cbmNvbnN0IEdBTUVQTEFOX1RBU0tfU0NIRU1BID0ge1xuICB0eXBlOiAnb2JqZWN0JyxcbiAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICBwcm9wZXJ0aWVzOiB7XG4gICAgaWQ6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICB0aXRsZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgIGRlc2NyaXB0aW9uOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgcHJpb3JpdHk6IHsgdHlwZTogJ3N0cmluZycsIGVudW06IEdBTUVQTEFOX1BSSU9SSVRZX1ZBTFVFUyB9LFxuICAgIGNhcmRJZDogeyB0eXBlOiBbJ3N0cmluZycsICdudWxsJ10gfSxcbiAgICBwZXJrSWQ6IHsgdHlwZTogWydzdHJpbmcnLCAnbnVsbCddIH0sXG4gICAgZHVlQnk6IHsgdHlwZTogWydzdHJpbmcnLCAnbnVsbCddIH0sXG4gICAgZXhwZWN0ZWRWYWx1ZTogeyB0eXBlOiBbJ251bWJlcicsICdudWxsJ10gfVxuICB9LFxuICByZXF1aXJlZDogWydpZCcsICd0aXRsZScsICdkZXNjcmlwdGlvbicsICdwcmlvcml0eSddXG59O1xuXG5jb25zdCBHQU1FUExBTl9SRVNQT05TRV9TQ0hFTUEgPSB7XG4gIHR5cGU6ICdvYmplY3QnLFxuICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gIHByb3BlcnRpZXM6IHtcbiAgICBzdW1tYXJ5OiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgcXVhcnRlcjogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgIHRhc2tzOiB7XG4gICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgaXRlbXM6IEdBTUVQTEFOX1RBU0tfU0NIRU1BLFxuICAgICAgbWluSXRlbXM6IDNcbiAgICB9XG4gIH0sXG4gIHJlcXVpcmVkOiBbJ3N1bW1hcnknLCAncXVhcnRlcicsICd0YXNrcyddXG59IGFzIGNvbnN0O1xuXG5jb25zdCBHQU1FUExBTl9DSEFUX1JFU1BPTlNFX1NDSEVNQSA9IHtcbiAgdHlwZTogJ29iamVjdCcsXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgcHJvcGVydGllczoge1xuICAgIGFzc2lzdGFudF9tZXNzYWdlOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgdXBkYXRlZF9wbGFuOiB7XG4gICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgc3VtbWFyeTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICBxdWFydGVyOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgIHRhc2tzOiB7XG4gICAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgICBpdGVtczogR0FNRVBMQU5fVEFTS19TQ0hFTUFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbJ3N1bW1hcnknLCAncXVhcnRlcicsICd0YXNrcyddXG4gICAgfVxuICB9LFxuICByZXF1aXJlZDogWydhc3Npc3RhbnRfbWVzc2FnZSddXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVya1N1bW1hcnkocHJvbXB0OiBzdHJpbmcpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYWxsUmVzcG9uc2VzQVBJKHtcbiAgICBtb2RlbDogREVGQVVMVF9NT0RFTCxcbiAgICBpbnB1dDogcHJvbXB0XG4gIH0pO1xuXG4gIHJldHVybiBleHRyYWN0VGV4dENvbnRlbnQocmVzcG9uc2UpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUpzb248VD4ocGF5bG9hZDogc3RyaW5nLCBmYWxsYmFja01lc3NhZ2U6IHN0cmluZyk6IFQge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHBheWxvYWQpIGFzIFQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKGZhbGxiYWNrTWVzc2FnZSwgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHBhcnNlIEFJIHJlc3BvbnNlLicpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUdhbWVwbGFuKG9wdGlvbnM6IHtcbiAgcXVhcnRlcjogc3RyaW5nO1xuICBjYXJkczogR2FtZXBsYW5QYXlsb2FkQ2FyZFtdO1xuICB1c2VyR29hbHM/OiBzdHJpbmc7XG59KSB7XG4gIGNvbnN0IHsgcXVhcnRlciwgY2FyZHMsIHVzZXJHb2FscyB9ID0gb3B0aW9ucztcblxuICBjb25zdCBwbGFuQ29udGV4dCA9IEpTT04uc3RyaW5naWZ5KHsgcXVhcnRlciwgdXNlckdvYWxzLCBjYXJkcyB9LCBudWxsLCAyKTtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxSZXNwb25zZXNBUEkoe1xuICAgIG1vZGVsOiBERUZBVUxUX01PREVMLFxuICAgIHRlbXBlcmF0dXJlOiAwLjYsXG4gICAgaW5wdXQ6IFtcbiAgICAgIHtcbiAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgIGNvbnRlbnQ6XG4gICAgICAgICAgJ1lvdSBhcmUgYW4gZXhwZXJ0IGNyZWRpdCBjYXJkIHJld2FyZHMgc3RyYXRlZ2lzdC4gQ3JlYXRlIGFjdGlvbmFibGUgcXVhcnRlcmx5IHBsYW5zIHRoYXQgaGVscCBjYXJkaG9sZGVycyB1c2UgZXZlcnkgYmVuZWZpdCBiZWZvcmUgaXQgZXhwaXJlcy4gRm9jdXMgb24gdGFuZ2libGUgYWN0aW9ucywgcmVhbGlzdGljIHBhY2luZywgYW5kIGVzdGltYXRlZCBzdGF0ZW1lbnQgdmFsdWUuJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICBjb250ZW50OiBgR2VuZXJhdGUgYSBuZXh0LXF1YXJ0ZXIgZXhlY3V0aW9uIHBsYW4gdXNpbmcgdGhpcyBKU09OIGNvbnRleHQuIFJlcGx5ICoqb25seSoqIHdpdGggSlNPTiB0aGF0IGZvbGxvd3MgdGhlIHByb3ZpZGVkIHNjaGVtYS5cXG5cXG4ke3BsYW5Db250ZXh0fWBcbiAgICAgIH1cbiAgICBdLFxuICAgIHJlc3BvbnNlX2Zvcm1hdDoge1xuICAgICAgdHlwZTogJ2pzb25fc2NoZW1hJyxcbiAgICAgIGpzb25fc2NoZW1hOiB7XG4gICAgICAgIG5hbWU6ICdnYW1lcGxhbl9yZXNwb25zZScsXG4gICAgICAgIHNjaGVtYTogR0FNRVBMQU5fUkVTUE9OU0VfU0NIRU1BLFxuICAgICAgICBzdHJpY3Q6IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHBheWxvYWQgPSBleHRyYWN0VGV4dENvbnRlbnQocmVzcG9uc2UpO1xuICBjb25zdCBnYW1lcGxhbiA9IHBhcnNlSnNvbjxHYW1lcGxhbkNvbnRlbnQ+KHBheWxvYWQsICdVbmFibGUgdG8gcGFyc2UgZ2FtZXBsYW4gSlNPTiBmcm9tIE9wZW5BSScpO1xuXG4gIGNvbnN0IG5vcm1hbGl6ZWRUYXNrczogR2FtZXBsYW5UYXNrW10gPSBnYW1lcGxhbi50YXNrcy5tYXAodGFzayA9PiAoe1xuICAgIC4uLnRhc2ssXG4gICAgY2FyZElkOiB0YXNrLmNhcmRJZCA/PyB1bmRlZmluZWQsXG4gICAgcGVya0lkOiB0YXNrLnBlcmtJZCA/PyB1bmRlZmluZWQsXG4gICAgZHVlQnk6IHRhc2suZHVlQnkgPz8gdW5kZWZpbmVkLFxuICAgIGV4cGVjdGVkVmFsdWU6IHRhc2suZXhwZWN0ZWRWYWx1ZSA/PyB1bmRlZmluZWRcbiAgfSkpO1xuXG4gIHJldHVybiB7XG4gICAgLi4uZ2FtZXBsYW4sXG4gICAgdGFza3M6IG5vcm1hbGl6ZWRUYXNrc1xuICB9IHNhdGlzZmllcyBHYW1lcGxhbkNvbnRlbnQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZHZpc2VPbkdhbWVwbGFuKG9wdGlvbnM6IHtcbiAgcXVhcnRlcj86IHN0cmluZztcbiAgY3VycmVudFBsYW46IEdhbWVwbGFuQ29udGVudDtcbiAgaGlzdG9yeTogQXJyYXk8eyByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JzsgY29udGVudDogc3RyaW5nIH0+O1xuICBsYXRlc3RVc2VyTWVzc2FnZTogc3RyaW5nO1xufSkge1xuICBjb25zdCB7IHF1YXJ0ZXIsIGN1cnJlbnRQbGFuLCBoaXN0b3J5LCBsYXRlc3RVc2VyTWVzc2FnZSB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVzb2x2ZWRRdWFydGVyID0gcXVhcnRlciA/PyBjdXJyZW50UGxhbi5xdWFydGVyO1xuICBjb25zdCBwbGFuSnNvbiA9IEpTT04uc3RyaW5naWZ5KHsgcXVhcnRlcjogcmVzb2x2ZWRRdWFydGVyLCBjdXJyZW50UGxhbiB9LCBudWxsLCAyKTtcblxuICBjb25zdCBpbnB1dCA9IFtcbiAgICB7XG4gICAgICByb2xlOiAnc3lzdGVtJyBhcyBjb25zdCxcbiAgICAgIGNvbnRlbnQ6XG4gICAgICAgICdZb3UgYXJlIHRoZSBKdWljZSBBSSBHYW1lcGxhbiBBZHZpc29yLiBVcGRhdGUgcGxhbnMgZm9yIGNyZWRpdCBjYXJkIHBlcmsgdXNhZ2Ugd2l0aCBjbGVhciwgYnVkZ2V0LWNvbnNjaW91cyBhY3Rpb25zLiBBZGp1c3QgcHJpb3JpdGllcywgcmUtb3JkZXIgdGFza3MsIG9yIGFkZCBuZXcgb25lcyB3aXRob3V0IGludmVudGluZyBwZXJrcyB0aGF0IGRvIG5vdCBleGlzdC4nXG4gICAgfSxcbiAgICB7XG4gICAgICByb2xlOiAnYXNzaXN0YW50JyBhcyBjb25zdCxcbiAgICAgIGNvbnRlbnQ6IGBDdXJyZW50IHBsYW4gSlNPTjpcXG4ke3BsYW5Kc29ufWBcbiAgICB9LFxuICAgIC4uLmhpc3RvcnkubWFwKG1lc3NhZ2UgPT4gKHtcbiAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudFxuICAgIH0pKSxcbiAgICB7XG4gICAgICByb2xlOiAndXNlcicgYXMgY29uc3QsXG4gICAgICBjb250ZW50OiBsYXRlc3RVc2VyTWVzc2FnZVxuICAgIH1cbiAgXTtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxSZXNwb25zZXNBUEkoe1xuICAgIG1vZGVsOiBERUZBVUxUX01PREVMLFxuICAgIHRlbXBlcmF0dXJlOiAwLjUsXG4gICAgaW5wdXQsXG4gICAgcmVzcG9uc2VfZm9ybWF0OiB7XG4gICAgICB0eXBlOiAnanNvbl9zY2hlbWEnLFxuICAgICAganNvbl9zY2hlbWE6IHtcbiAgICAgICAgbmFtZTogJ2dhbWVwbGFuX2NoYXRfcmVzcG9uc2UnLFxuICAgICAgICBzY2hlbWE6IEdBTUVQTEFOX0NIQVRfUkVTUE9OU0VfU0NIRU1BLFxuICAgICAgICBzdHJpY3Q6IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHBheWxvYWQgPSBleHRyYWN0VGV4dENvbnRlbnQocmVzcG9uc2UpO1xuICBjb25zdCBwYXJzZWQgPSBwYXJzZUpzb248e1xuICAgIGFzc2lzdGFudF9tZXNzYWdlOiBzdHJpbmc7XG4gICAgdXBkYXRlZF9wbGFuPzogR2FtZXBsYW5Db250ZW50O1xuICB9PihwYXlsb2FkLCAnVW5hYmxlIHRvIHBhcnNlIGdhbWVwbGFuIGFkdmlzb3IgcmVzcG9uc2UnKTtcblxuICBjb25zdCBub3JtYWxpemVkUGxhbiA9IHBhcnNlZC51cGRhdGVkX3BsYW5cbiAgICA/IHtcbiAgICAgICAgLi4ucGFyc2VkLnVwZGF0ZWRfcGxhbixcbiAgICAgICAgdGFza3M6IHBhcnNlZC51cGRhdGVkX3BsYW4udGFza3MubWFwKHRhc2sgPT4gKHtcbiAgICAgICAgICAuLi50YXNrLFxuICAgICAgICAgIGNhcmRJZDogdGFzay5jYXJkSWQgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgIHBlcmtJZDogdGFzay5wZXJrSWQgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgIGR1ZUJ5OiB0YXNrLmR1ZUJ5ID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICBleHBlY3RlZFZhbHVlOiB0YXNrLmV4cGVjdGVkVmFsdWUgPz8gdW5kZWZpbmVkXG4gICAgICAgIH0pKVxuICAgICAgfVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHJldHVybiB7XG4gICAgYXNzaXN0YW50TWVzc2FnZTogcGFyc2VkLmFzc2lzdGFudF9tZXNzYWdlLFxuICAgIHVwZGF0ZWRQbGFuOiBub3JtYWxpemVkUGxhblxuICB9O1xufVxuIl0sIm5hbWVzIjpbIkRFRkFVTFRfTU9ERUwiLCJHQU1FUExBTl9QUklPUklUWV9WQUxVRVMiLCJPUEVOQUlfQVBJX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQkFTRV9VUkwiLCJjYWxsUmVzcG9uc2VzQVBJIiwicGF5bG9hZCIsImFwaUtleSIsIk9QRU5BSV9BUElfS0VZIiwiRXJyb3IiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJqc29uIiwiY2F0Y2giLCJvayIsIm1lc3NhZ2UiLCJlcnJvciIsImV4dHJhY3RUZXh0Q29udGVudCIsIkFycmF5IiwiaXNBcnJheSIsIm91dHB1dF90ZXh0Iiwiam9pbiIsInRleHRDaHVua3MiLCJvdXRwdXQiLCJpdGVtIiwiY29udGVudCIsImJsb2NrIiwidGV4dCIsInB1c2giLCJHQU1FUExBTl9UQVNLX1NDSEVNQSIsInR5cGUiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJwcmlvcml0eSIsImVudW0iLCJjYXJkSWQiLCJwZXJrSWQiLCJkdWVCeSIsImV4cGVjdGVkVmFsdWUiLCJyZXF1aXJlZCIsIkdBTUVQTEFOX1JFU1BPTlNFX1NDSEVNQSIsInN1bW1hcnkiLCJxdWFydGVyIiwidGFza3MiLCJpdGVtcyIsIm1pbkl0ZW1zIiwiR0FNRVBMQU5fQ0hBVF9SRVNQT05TRV9TQ0hFTUEiLCJhc3Npc3RhbnRfbWVzc2FnZSIsInVwZGF0ZWRfcGxhbiIsImdldFBlcmtTdW1tYXJ5IiwicHJvbXB0IiwibW9kZWwiLCJpbnB1dCIsInBhcnNlSnNvbiIsImZhbGxiYWNrTWVzc2FnZSIsInBhcnNlIiwiY29uc29sZSIsIndhcm4iLCJnZW5lcmF0ZUdhbWVwbGFuIiwib3B0aW9ucyIsImNhcmRzIiwidXNlckdvYWxzIiwicGxhbkNvbnRleHQiLCJ0ZW1wZXJhdHVyZSIsInJvbGUiLCJyZXNwb25zZV9mb3JtYXQiLCJqc29uX3NjaGVtYSIsIm5hbWUiLCJzY2hlbWEiLCJzdHJpY3QiLCJnYW1lcGxhbiIsIm5vcm1hbGl6ZWRUYXNrcyIsIm1hcCIsInRhc2siLCJ1bmRlZmluZWQiLCJhZHZpc2VPbkdhbWVwbGFuIiwiY3VycmVudFBsYW4iLCJoaXN0b3J5IiwibGF0ZXN0VXNlck1lc3NhZ2UiLCJyZXNvbHZlZFF1YXJ0ZXIiLCJwbGFuSnNvbiIsInBhcnNlZCIsIm5vcm1hbGl6ZWRQbGFuIiwiYXNzaXN0YW50TWVzc2FnZSIsInVwZGF0ZWRQbGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/openai.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgameplan%2Froute&page=%2Fapi%2Fgameplan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgameplan%2Froute.ts&appDir=%2FUsers%2Fxaelmac%2FDocuments%2FProjects%2Fjuice%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fxaelmac%2FDocuments%2FProjects%2Fjuice&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();