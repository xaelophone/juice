"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(dashboard)/dashboard/page",{

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js":
/*!*******************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/loader-circle.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ LoaderCircle; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.368.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst LoaderCircle = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"LoaderCircle\", [\n    [\n        \"path\",\n        {\n            d: \"M21 12a9 9 0 1 1-6.219-8.56\",\n            key: \"13zald\"\n        }\n    ]\n]);\n //# sourceMappingURL=loader-circle.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvbG9hZGVyLWNpcmNsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQWFNLE1BQUFBLGVBQWVDLGdFQUFnQkEsQ0FBQyxnQkFBZ0I7SUFDcEQ7UUFBQztRQUFRO1lBQUVDLEdBQUc7WUFBK0JDLEtBQUs7UUFBQTtLQUFVO0NBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi8uLi9zcmMvaWNvbnMvbG9hZGVyLWNpcmNsZS50cz8xMjU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24nO1xuXG4vKipcbiAqIEBjb21wb25lbnQgQG5hbWUgTG9hZGVyQ2lyY2xlXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSk5NakVnTVRKaE9TQTVJREFnTVNBeExUWXVNakU1TFRndU5UWWlJQzgrQ2p3dmMzWm5QZ289KSAtIGh0dHBzOi8vbHVjaWRlLmRldi9pY29ucy9sb2FkZXItY2lyY2xlXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgTG9hZGVyQ2lyY2xlID0gY3JlYXRlTHVjaWRlSWNvbignTG9hZGVyQ2lyY2xlJywgW1xuICBbJ3BhdGgnLCB7IGQ6ICdNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYnLCBrZXk6ICcxM3phbGQnIH1dLFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IExvYWRlckNpcmNsZTtcbiJdLCJuYW1lcyI6WyJMb2FkZXJDaXJjbGUiLCJjcmVhdGVMdWNpZGVJY29uIiwiZCIsImtleSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js":
/*!**************************************************************!*\
  !*** ./node_modules/lucide-react/dist/esm/icons/sparkles.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Sparkles; }\n/* harmony export */ });\n/* harmony import */ var _createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createLucideIcon.js */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/createLucideIcon.js\");\n/**\n * @license lucide-react v0.368.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ \nconst Sparkles = (0,_createLucideIcon_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"Sparkles\", [\n    [\n        \"path\",\n        {\n            d: \"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z\",\n            key: \"17u4zn\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M5 3v4\",\n            key: \"bklmnn\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M19 17v4\",\n            key: \"iiml17\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M3 5h4\",\n            key: \"nem4j1\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M17 19h4\",\n            key: \"lbex7p\"\n        }\n    ]\n]);\n //# sourceMappingURL=sparkles.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvc3BhcmtsZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFhTSxNQUFBQSxXQUFXQyxnRUFBZ0JBLENBQUMsWUFBWTtJQUM1QztRQUNFO1FBQ0E7WUFDRUMsR0FBRztZQUNIQyxLQUFLO1FBQ1A7S0FDRjtJQUNBO1FBQUM7UUFBUTtZQUFFRCxHQUFHO1lBQVVDLEtBQUs7UUFBQTtLQUFVO0lBQ3ZDO1FBQUM7UUFBUTtZQUFFRCxHQUFHO1lBQVlDLEtBQUs7UUFBQTtLQUFVO0lBQ3pDO1FBQUM7UUFBUTtZQUFFRCxHQUFHO1lBQVVDLEtBQUs7UUFBQTtLQUFVO0lBQ3ZDO1FBQUM7UUFBUTtZQUFFRCxHQUFHO1lBQVlDLEtBQUs7UUFBQTtLQUFVO0NBQzFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uLi8uLi8uLi9zcmMvaWNvbnMvc3BhcmtsZXMudHM/N2ZjZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uJztcblxuLyoqXG4gKiBAY29tcG9uZW50IEBuYW1lIFNwYXJrbGVzXG4gKiBAZGVzY3JpcHRpb24gTHVjaWRlIFNWRyBpY29uIGNvbXBvbmVudCwgcmVuZGVycyBTVkcgRWxlbWVudCB3aXRoIGNoaWxkcmVuLlxuICpcbiAqIEBwcmV2aWV3ICFbaW1nXShkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUFnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29nSUhkcFpIUm9QU0l5TkNJS0lDQm9aV2xuYUhROUlqSTBJZ29nSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJS0lDQm1hV3hzUFNKdWIyNWxJZ29nSUhOMGNtOXJaVDBpSXpBd01DSWdjM1I1YkdVOUltSmhZMnRuY205MWJtUXRZMjlzYjNJNklDTm1abVk3SUdKdmNtUmxjaTF5WVdScGRYTTZJREp3ZUNJS0lDQnpkSEp2YTJVdGQybGtkR2c5SWpJaUNpQWdjM1J5YjJ0bExXeHBibVZqWVhBOUluSnZkVzVrSWdvZ0lITjBjbTlyWlMxc2FXNWxhbTlwYmowaWNtOTFibVFpQ2o0S0lDQThjR0YwYUNCa1BTSnRNVElnTXkweExqa3hNaUExTGpneE0yRXlJRElnTUNBd0lERXRNUzR5TnpVZ01TNHlOelZNTXlBeE1tdzFMamd4TXlBeExqa3hNbUV5SURJZ01DQXdJREVnTVM0eU56VWdNUzR5TnpWTU1USWdNakZzTVM0NU1USXROUzQ0TVROaE1pQXlJREFnTUNBeElERXVNamMxTFRFdU1qYzFUREl4SURFeWJDMDFMamd4TXkweExqa3hNbUV5SURJZ01DQXdJREV0TVM0eU56VXRNUzR5TnpWTU1USWdNMW9pSUM4K0NpQWdQSEJoZEdnZ1pEMGlUVFVnTTNZMElpQXZQZ29nSUR4d1lYUm9JR1E5SWsweE9TQXhOM1kwSWlBdlBnb2dJRHh3WVhSb0lHUTlJazB6SURWb05DSWdMejRLSUNBOGNHRjBhQ0JrUFNKTk1UY2dNVGxvTkNJZ0x6NEtQQzl6ZG1jK0NnPT0pIC0gaHR0cHM6Ly9sdWNpZGUuZGV2L2ljb25zL3NwYXJrbGVzXG4gKiBAc2VlIGh0dHBzOi8vbHVjaWRlLmRldi9ndWlkZS9wYWNrYWdlcy9sdWNpZGUtcmVhY3QgLSBEb2N1bWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gTHVjaWRlIGljb25zIHByb3BzIGFuZCBhbnkgdmFsaWQgU1ZHIGF0dHJpYnV0ZVxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBKU1ggRWxlbWVudFxuICpcbiAqL1xuY29uc3QgU3BhcmtsZXMgPSBjcmVhdGVMdWNpZGVJY29uKCdTcGFya2xlcycsIFtcbiAgW1xuICAgICdwYXRoJyxcbiAgICB7XG4gICAgICBkOiAnbTEyIDMtMS45MTIgNS44MTNhMiAyIDAgMCAxLTEuMjc1IDEuMjc1TDMgMTJsNS44MTMgMS45MTJhMiAyIDAgMCAxIDEuMjc1IDEuMjc1TDEyIDIxbDEuOTEyLTUuODEzYTIgMiAwIDAgMSAxLjI3NS0xLjI3NUwyMSAxMmwtNS44MTMtMS45MTJhMiAyIDAgMCAxLTEuMjc1LTEuMjc1TDEyIDNaJyxcbiAgICAgIGtleTogJzE3dTR6bicsXG4gICAgfSxcbiAgXSxcbiAgWydwYXRoJywgeyBkOiAnTTUgM3Y0Jywga2V5OiAnYmtsbW5uJyB9XSxcbiAgWydwYXRoJywgeyBkOiAnTTE5IDE3djQnLCBrZXk6ICdpaW1sMTcnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMyA1aDQnLCBrZXk6ICduZW00ajEnIH1dLFxuICBbJ3BhdGgnLCB7IGQ6ICdNMTcgMTloNCcsIGtleTogJ2xiZXg3cCcgfV0sXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgU3BhcmtsZXM7XG4iXSwibmFtZXMiOlsiU3BhcmtsZXMiLCJjcmVhdGVMdWNpZGVJY29uIiwiZCIsImtleSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/dashboard/summary-cards.tsx":
/*!************************************************!*\
  !*** ./components/dashboard/summary-cards.tsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SummaryCards: function() { return /* binding */ SummaryCards; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Loader2_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_progress__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/progress */ \"(app-pages-browser)/./components/ui/progress.tsx\");\n/* harmony import */ var _lib_format__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/format */ \"(app-pages-browser)/./lib/format.ts\");\n/* harmony import */ var _hooks_use_settings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/hooks/use-settings */ \"(app-pages-browser)/./hooks/use-settings.ts\");\n/* harmony import */ var _hooks_use_filtered_cards__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/hooks/use-filtered-cards */ \"(app-pages-browser)/./hooks/use-filtered-cards.ts\");\n/* harmony import */ var _hooks_use_gameplan__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/hooks/use-gameplan */ \"(app-pages-browser)/./hooks/use-gameplan.ts\");\n/* harmony import */ var _hooks_use_juice_state__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/hooks/use-juice-state */ \"(app-pages-browser)/./hooks/use-juice-state.ts\");\n/* __next_internal_client_entry_do_not_use__ SummaryCards auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\nconst GAMEPLAN_MODEL = \"gpt-5\";\nfunction SummaryCards() {\n    _s();\n    const { settings } = (0,_hooks_use_settings__WEBPACK_IMPORTED_MODULE_6__.useSettings)();\n    const { totals: filteredTotals } = (0,_hooks_use_filtered_cards__WEBPACK_IMPORTED_MODULE_7__.useFilteredCards)();\n    const { cards, selectedCards, summary } = (0,_hooks_use_juice_state__WEBPACK_IMPORTED_MODULE_9__.useJuiceState)();\n    const { plan, replacePlan, clearChat, status, setStatus } = (0,_hooks_use_gameplan__WEBPACK_IMPORTED_MODULE_8__.useGameplan)();\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isGenerating = status === \"generating\";\n    const filteredCaptureRate = filteredTotals.potential === 0 ? 0 : Math.min(1, filteredTotals.realized / filteredTotals.potential);\n    const cardLookup = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>new Map(cards.map((card)=>[\n                card.id,\n                card\n            ])), [\n        cards\n    ]);\n    const perkLookup = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const entries = cards.flatMap((card)=>card.perks.map((perk)=>[\n                    perk.id,\n                    {\n                        title: perk.title,\n                        cardId: card.id\n                    }\n                ]));\n        return new Map(entries);\n    }, [\n        cards\n    ]);\n    const narrative = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        var _plan_tasks;\n        if (!(plan === null || plan === void 0 ? void 0 : (_plan_tasks = plan.tasks) === null || _plan_tasks === void 0 ? void 0 : _plan_tasks.length)) {\n            return null;\n        }\n        const sorted = [\n            ...plan.tasks\n        ].sort((a, b)=>{\n            var _b_expectedValue, _a_expectedValue;\n            const valueDiff = ((_b_expectedValue = b.expectedValue) !== null && _b_expectedValue !== void 0 ? _b_expectedValue : 0) - ((_a_expectedValue = a.expectedValue) !== null && _a_expectedValue !== void 0 ? _a_expectedValue : 0);\n            if (valueDiff !== 0) return valueDiff;\n            const priorityRank = {\n                high: 0,\n                medium: 1,\n                low: 2\n            };\n            return priorityRank[a.priority] - priorityRank[b.priority];\n        });\n        const topTasks = sorted.slice(0, 3);\n        return topTasks.map((task, index)=>createPersonaSentence(task, index, cardLookup, perkLookup, settings.currency)).filter(Boolean).join(\" \");\n    }, [\n        cardLookup,\n        perkLookup,\n        plan === null || plan === void 0 ? void 0 : plan.tasks,\n        settings.currency\n    ]);\n    const handleGenerate = async ()=>{\n        if (selectedCards.length === 0) {\n            alert(\"Add at least one card on your dashboard before creating a gameplan.\");\n            return;\n        }\n        setStatus(\"generating\");\n        setError(null);\n        const cardsForPayload = selectedCards.map((card)=>{\n            const snapshot = summary.cardsSnapshot.find((entry)=>entry.cardId === card.id);\n            var _snapshot_realized, _snapshot_potential, _snapshot_captureRate, _snapshot_netRoi;\n            return {\n                id: card.id,\n                name: card.name,\n                annualFee: card.annualFee,\n                summary: card.summary,\n                realized: (_snapshot_realized = snapshot === null || snapshot === void 0 ? void 0 : snapshot.realized) !== null && _snapshot_realized !== void 0 ? _snapshot_realized : 0,\n                potential: (_snapshot_potential = snapshot === null || snapshot === void 0 ? void 0 : snapshot.potential) !== null && _snapshot_potential !== void 0 ? _snapshot_potential : card.perks.reduce((total, perk)=>total + perk.cashValue, 0),\n                captureRate: (_snapshot_captureRate = snapshot === null || snapshot === void 0 ? void 0 : snapshot.captureRate) !== null && _snapshot_captureRate !== void 0 ? _snapshot_captureRate : 0,\n                netRoi: (_snapshot_netRoi = snapshot === null || snapshot === void 0 ? void 0 : snapshot.netRoi) !== null && _snapshot_netRoi !== void 0 ? _snapshot_netRoi : 0,\n                perks: card.perks.map((perk)=>({\n                        id: perk.id,\n                        title: perk.title,\n                        description: perk.description,\n                        cashValue: perk.cashValue,\n                        cadence: perk.cadence,\n                        tags: perk.tags\n                    }))\n            };\n        });\n        try {\n            var _plan_quarter;\n            const response = await fetch(\"/api/gameplan\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    quarter: (_plan_quarter = plan === null || plan === void 0 ? void 0 : plan.quarter) !== null && _plan_quarter !== void 0 ? _plan_quarter : getUpcomingQuarter(),\n                    cards: cardsForPayload\n                })\n            });\n            if (!response.ok) {\n                const errorBody = await response.json().catch(()=>({}));\n                var _errorBody_error;\n                throw new Error((_errorBody_error = errorBody === null || errorBody === void 0 ? void 0 : errorBody.error) !== null && _errorBody_error !== void 0 ? _errorBody_error : \"Failed to generate gameplan\");\n            }\n            const data = await response.json();\n            replacePlan(data.plan, {\n                model: GAMEPLAN_MODEL\n            });\n            clearChat();\n        } catch (err) {\n            console.error(\"Gameplan generation failed\", err);\n            setError(\"Could not build a gameplan right now. Give it another shot in a minute.\");\n        } finally{\n            setStatus(\"idle\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                className: \"flex flex-col gap-3 pb-2 sm:flex-row sm:items-center sm:justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardTitle, {\n                                className: \"text-sm text-muted-foreground\",\n                                children: \"Overall Progress\"\n                            }, void 0, false, {\n                                fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                lineNumber: 119,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                \"aria-hidden\": true,\n                                className: \"text-xs font-medium text-muted-foreground\",\n                                children: [\n                                    (0,_lib_format__WEBPACK_IMPORTED_MODULE_5__.formatCurrency)(filteredTotals.realized, settings.currency),\n                                    \" of \",\n                                    (0,_lib_format__WEBPACK_IMPORTED_MODULE_5__.formatCurrency)(filteredTotals.potential, settings.currency),\n                                    \" benefits claimed\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                lineNumber: 120,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                        lineNumber: 118,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onClick: handleGenerate,\n                        disabled: isGenerating,\n                        size: \"sm\",\n                        className: \"w-full sm:w-auto\",\n                        children: isGenerating ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"flex items-center justify-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                    className: \"h-4 w-4 animate-spin\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                    lineNumber: 132,\n                                    columnNumber: 15\n                                }, this),\n                                \"Working…\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                            lineNumber: 131,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"flex items-center justify-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                    className: \"h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                    lineNumber: 137,\n                                    columnNumber: 15\n                                }, this),\n                                plan ? \"Regenerate gameplan\" : \"Create gameplan\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                            lineNumber: 136,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                        lineNumber: 124,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                lineNumber: 117,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                className: \"pt-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-lg font-semibold text-foreground\",\n                                children: (0,_lib_format__WEBPACK_IMPORTED_MODULE_5__.formatPercentage)(filteredCaptureRate)\n                            }, void 0, false, {\n                                fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                lineNumber: 145,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_progress__WEBPACK_IMPORTED_MODULE_4__.Progress, {\n                                value: filteredCaptureRate * 100,\n                                className: \"flex-1\"\n                            }, void 0, false, {\n                                fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                lineNumber: 148,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                        lineNumber: 144,\n                        columnNumber: 9\n                    }, this),\n                    (isGenerating || plan) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-6 space-y-2 rounded-lg border border-border/60 bg-muted/30 p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap items-center justify-between gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs font-semibold uppercase tracking-wide text-muted-foreground\",\n                                        children: \"Gameplan\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                        lineNumber: 153,\n                                        columnNumber: 15\n                                    }, this),\n                                    (plan === null || plan === void 0 ? void 0 : plan.generatedAt) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-muted-foreground\",\n                                        children: [\n                                            \"Updated \",\n                                            formatTimestamp(plan.generatedAt)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                        lineNumber: 155,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                lineNumber: 152,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm leading-6 text-foreground\",\n                                children: isGenerating ? \"Sit tight, kid—I am working the phones to stitch together your next score.\" : narrative !== null && narrative !== void 0 ? narrative : \"Plan is locked and loaded.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                                lineNumber: 158,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                        lineNumber: 151,\n                        columnNumber: 11\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-xs font-medium text-red-500\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                        lineNumber: 165,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n                lineNumber: 143,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/xaelmac/Documents/Projects/juice/components/dashboard/summary-cards.tsx\",\n        lineNumber: 116,\n        columnNumber: 5\n    }, this);\n}\n_s(SummaryCards, \"tykNz27U4fE6VVisBDhDDLoWzls=\", false, function() {\n    return [\n        _hooks_use_settings__WEBPACK_IMPORTED_MODULE_6__.useSettings,\n        _hooks_use_filtered_cards__WEBPACK_IMPORTED_MODULE_7__.useFilteredCards,\n        _hooks_use_juice_state__WEBPACK_IMPORTED_MODULE_9__.useJuiceState,\n        _hooks_use_gameplan__WEBPACK_IMPORTED_MODULE_8__.useGameplan\n    ];\n});\n_c = SummaryCards;\nfunction createPersonaSentence(task, index, cardLookup, perkLookup, currency) {\n    var _perkLookup_get, _cardLookup_get;\n    if (!task) return \"\";\n    var _task_cardId;\n    const cardId = (_task_cardId = task.cardId) !== null && _task_cardId !== void 0 ? _task_cardId : task.perkId ? (_perkLookup_get = perkLookup.get(task.perkId)) === null || _perkLookup_get === void 0 ? void 0 : _perkLookup_get.cardId : undefined;\n    const cardName = cardId ? (_cardLookup_get = cardLookup.get(cardId)) === null || _cardLookup_get === void 0 ? void 0 : _cardLookup_get.name : undefined;\n    const dueLabel = formatPersonaDue(task.dueBy);\n    const valueLabel = typeof task.expectedValue === \"number\" ? (0,_lib_format__WEBPACK_IMPORTED_MODULE_5__.formatCurrency)(task.expectedValue, currency) : null;\n    const base = cardName ? \"\".concat(task.title, \" on the \").concat(cardName) : task.title;\n    const openings = [\n        \"Listen, kid—\".concat(base, \" is first in line\").concat(valueLabel ? \" and it's worth \".concat(valueLabel) : \"\", \", so \").concat(dueLabel, \".\"),\n        \"Then slide straight into \".concat(base).concat(valueLabel ? \" for another \".concat(valueLabel) : \"\", \"; I don't want to hear excuses about timing—\").concat(dueLabel, \".\"),\n        \"Finish with \".concat(base).concat(valueLabel ? \" and scoop that \".concat(valueLabel) : \"\", \", and don't make me chase you for it.\")\n    ];\n    return openings[Math.min(index, openings.length - 1)];\n}\nfunction getTaskShape(task) {\n    return task;\n}\nfunction getTaskCard(card) {\n    return card;\n}\nfunction formatPersonaDue(value) {\n    if (!value) {\n        return \"wrap it before the suits notice\";\n    }\n    const date = new Date(value);\n    if (Number.isNaN(date.getTime())) {\n        return \"lock it down before the clock runs out\";\n    }\n    return \"have it done before \".concat(date.toLocaleDateString(undefined, {\n        month: \"short\",\n        day: \"numeric\"\n    }));\n}\nfunction formatTimestamp(value) {\n    const date = new Date(value);\n    if (Number.isNaN(date.getTime())) {\n        return value;\n    }\n    return date.toLocaleString(undefined, {\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"2-digit\"\n    });\n}\nfunction getUpcomingQuarter() {\n    let reference = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : new Date();\n    const currentQuarter = Math.floor(reference.getMonth() / 3) + 1;\n    const nextQuarter = currentQuarter === 4 ? 1 : currentQuarter + 1;\n    const year = currentQuarter === 4 ? reference.getFullYear() + 1 : reference.getFullYear();\n    return \"Q\".concat(nextQuarter, \" \").concat(year);\n}\nvar _c;\n$RefreshReg$(_c, \"SummaryCards\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvZGFzaGJvYXJkL3N1bW1hcnktY2FyZHMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFMEM7QUFDTztBQUNEO0FBQ2lEO0FBQzdDO0FBQ1k7QUFDYjtBQUNXO0FBQ1g7QUFDSztBQUV4RCxNQUFNaUIsaUJBQWlCO0FBRWhCLFNBQVNDOztJQUNkLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdOLGdFQUFXQTtJQUNoQyxNQUFNLEVBQUVPLFFBQVFDLGNBQWMsRUFBRSxHQUFHUCwyRUFBZ0JBO0lBQ25ELE1BQU0sRUFBRVEsS0FBSyxFQUFFQyxhQUFhLEVBQUVDLE9BQU8sRUFBRSxHQUFHUixxRUFBYUE7SUFDdkQsTUFBTSxFQUFFUyxJQUFJLEVBQUVDLFdBQVcsRUFBRUMsU0FBUyxFQUFFQyxNQUFNLEVBQUVDLFNBQVMsRUFBRSxHQUFHZCxnRUFBV0E7SUFDdkUsTUFBTSxDQUFDZSxPQUFPQyxTQUFTLEdBQUc5QiwrQ0FBUUEsQ0FBZ0I7SUFFbEQsTUFBTStCLGVBQWVKLFdBQVc7SUFFaEMsTUFBTUssc0JBQXNCWixlQUFlYSxTQUFTLEtBQUssSUFDckQsSUFDQUMsS0FBS0MsR0FBRyxDQUFDLEdBQUdmLGVBQWVnQixRQUFRLEdBQUdoQixlQUFlYSxTQUFTO0lBRWxFLE1BQU1JLGFBQWF0Qyw4Q0FBT0EsQ0FBQyxJQUFNLElBQUl1QyxJQUFJakIsTUFBTWtCLEdBQUcsQ0FBQ0MsQ0FBQUEsT0FBUTtnQkFBQ0EsS0FBS0MsRUFBRTtnQkFBRUQ7YUFBSyxJQUFJO1FBQUNuQjtLQUFNO0lBRXJGLE1BQU1xQixhQUFhM0MsOENBQU9BLENBQUM7UUFDekIsTUFBTTRDLFVBQVV0QixNQUFNdUIsT0FBTyxDQUFDSixDQUFBQSxPQUM1QkEsS0FBS0ssS0FBSyxDQUFDTixHQUFHLENBQUNPLENBQUFBLE9BQVE7b0JBQUNBLEtBQUtMLEVBQUU7b0JBQUU7d0JBQUVNLE9BQU9ELEtBQUtDLEtBQUs7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LE9BQU82RCxTQUFTNUUsTUFBTSxHQUFHLEdBQUc7QUFDdkQ7QUFFQSxTQUFTNkUsYUFBYS9ELElBQVM7SUFDN0IsT0FBT0E7QUFDVDtBQUVBLFNBQVNnRSxZQUFZekYsSUFBUztJQUM1QixPQUFPQTtBQUNUO0FBRUEsU0FBU21GLGlCQUFpQlQsS0FBcUI7SUFDN0MsSUFBSSxDQUFDQSxPQUFPO1FBQ1YsT0FBTztJQUNUO0lBRUEsTUFBTWdCLE9BQU8sSUFBSUMsS0FBS2pCO0lBQ3RCLElBQUlrQixPQUFPQyxLQUFLLENBQUNILEtBQUtJLE9BQU8sS0FBSztRQUNoQyxPQUFPO0lBQ1Q7SUFFQSxPQUFPLHVCQUdKLE9BSDJCSixLQUFLSyxrQkFBa0IsQ0FBQ2YsV0FBVztRQUMvRGdCLE9BQU87UUFDUEMsS0FBSztJQUNQO0FBQ0Y7QUFFQSxTQUFTckIsZ0JBQWdCRixLQUFhO0lBQ3BDLE1BQU1nQixPQUFPLElBQUlDLEtBQUtqQjtJQUN0QixJQUFJa0IsT0FBT0MsS0FBSyxDQUFDSCxLQUFLSSxPQUFPLEtBQUs7UUFDaEMsT0FBT3BCO0lBQ1Q7SUFFQSxPQUFPZ0IsS0FBS1EsY0FBYyxDQUFDbEIsV0FBVztRQUNwQ2dCLE9BQU87UUFDUEMsS0FBSztRQUNMRSxNQUFNO1FBQ05DLFFBQVE7SUFDVjtBQUNGO0FBRUEsU0FBUzNDO1FBQW1CNEMsWUFBQUEsaUVBQVksSUFBSVY7SUFDMUMsTUFBTVcsaUJBQWlCNUcsS0FBSzZHLEtBQUssQ0FBQ0YsVUFBVUcsUUFBUSxLQUFLLEtBQUs7SUFDOUQsTUFBTUMsY0FBY0gsbUJBQW1CLElBQUksSUFBSUEsaUJBQWlCO0lBQ2hFLE1BQU1JLE9BQU9KLG1CQUFtQixJQUFJRCxVQUFVTSxXQUFXLEtBQUssSUFBSU4sVUFBVU0sV0FBVztJQUN2RixPQUFPLElBQW1CRCxPQUFmRCxhQUFZLEtBQVEsT0FBTEM7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9kYXNoYm9hcmQvc3VtbWFyeS1jYXJkcy50c3g/NjA4YyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTG9hZGVyMiwgU3BhcmtsZXMgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBDYXJkIGFzIENhcmRQcmltaXRpdmUsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQgeyBQcm9ncmVzcyB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9wcm9ncmVzcyc7XG5pbXBvcnQgeyBmb3JtYXRDdXJyZW5jeSwgZm9ybWF0UGVyY2VudGFnZSB9IGZyb20gJ0AvbGliL2Zvcm1hdCc7XG5pbXBvcnQgeyB1c2VTZXR0aW5ncyB9IGZyb20gJ0AvaG9va3MvdXNlLXNldHRpbmdzJztcbmltcG9ydCB7IHVzZUZpbHRlcmVkQ2FyZHMgfSBmcm9tICdAL2hvb2tzL3VzZS1maWx0ZXJlZC1jYXJkcyc7XG5pbXBvcnQgeyB1c2VHYW1lcGxhbiB9IGZyb20gJ0AvaG9va3MvdXNlLWdhbWVwbGFuJztcbmltcG9ydCB7IHVzZUp1aWNlU3RhdGUgfSBmcm9tICdAL2hvb2tzL3VzZS1qdWljZS1zdGF0ZSc7XG5cbmNvbnN0IEdBTUVQTEFOX01PREVMID0gJ2dwdC01JztcblxuZXhwb3J0IGZ1bmN0aW9uIFN1bW1hcnlDYXJkcygpIHtcbiAgY29uc3QgeyBzZXR0aW5ncyB9ID0gdXNlU2V0dGluZ3MoKTtcbiAgY29uc3QgeyB0b3RhbHM6IGZpbHRlcmVkVG90YWxzIH0gPSB1c2VGaWx0ZXJlZENhcmRzKCk7XG4gIGNvbnN0IHsgY2FyZHMsIHNlbGVjdGVkQ2FyZHMsIHN1bW1hcnkgfSA9IHVzZUp1aWNlU3RhdGUoKTtcbiAgY29uc3QgeyBwbGFuLCByZXBsYWNlUGxhbiwgY2xlYXJDaGF0LCBzdGF0dXMsIHNldFN0YXR1cyB9ID0gdXNlR2FtZXBsYW4oKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBpc0dlbmVyYXRpbmcgPSBzdGF0dXMgPT09ICdnZW5lcmF0aW5nJztcblxuICBjb25zdCBmaWx0ZXJlZENhcHR1cmVSYXRlID0gZmlsdGVyZWRUb3RhbHMucG90ZW50aWFsID09PSAwXG4gICAgPyAwXG4gICAgOiBNYXRoLm1pbigxLCBmaWx0ZXJlZFRvdGFscy5yZWFsaXplZCAvIGZpbHRlcmVkVG90YWxzLnBvdGVudGlhbCk7XG5cbiAgY29uc3QgY2FyZExvb2t1cCA9IHVzZU1lbW8oKCkgPT4gbmV3IE1hcChjYXJkcy5tYXAoY2FyZCA9PiBbY2FyZC5pZCwgY2FyZF0pKSwgW2NhcmRzXSk7XG5cbiAgY29uc3QgcGVya0xvb2t1cCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSBjYXJkcy5mbGF0TWFwKGNhcmQgPT5cbiAgICAgIGNhcmQucGVya3MubWFwKHBlcmsgPT4gW3BlcmsuaWQsIHsgdGl0bGU6IHBlcmsudGl0bGUsIGNhcmRJZDogY2FyZC5pZCB9XSBhcyBjb25zdClcbiAgICApO1xuICAgIHJldHVybiBuZXcgTWFwKGVudHJpZXMpO1xuICB9LCBbY2FyZHNdKTtcblxuICBjb25zdCBuYXJyYXRpdmUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXBsYW4/LnRhc2tzPy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHNvcnRlZCA9IFsuLi5wbGFuLnRhc2tzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZURpZmYgPSAoYi5leHBlY3RlZFZhbHVlID8/IDApIC0gKGEuZXhwZWN0ZWRWYWx1ZSA/PyAwKTtcbiAgICAgIGlmICh2YWx1ZURpZmYgIT09IDApIHJldHVybiB2YWx1ZURpZmY7XG4gICAgICBjb25zdCBwcmlvcml0eVJhbmsgPSB7IGhpZ2g6IDAsIG1lZGl1bTogMSwgbG93OiAyIH0gYXMgY29uc3Q7XG4gICAgICByZXR1cm4gcHJpb3JpdHlSYW5rW2EucHJpb3JpdHldIC0gcHJpb3JpdHlSYW5rW2IucHJpb3JpdHldO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG9wVGFza3MgPSBzb3J0ZWQuc2xpY2UoMCwgMyk7XG5cbiAgICByZXR1cm4gdG9wVGFza3MubWFwKCh0YXNrLCBpbmRleCkgPT4gY3JlYXRlUGVyc29uYVNlbnRlbmNlKHRhc2ssIGluZGV4LCBjYXJkTG9va3VwLCBwZXJrTG9va3VwLCBzZXR0aW5ncy5jdXJyZW5jeSkpXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAuam9pbignICcpO1xuICB9LCBbY2FyZExvb2t1cCwgcGVya0xvb2t1cCwgcGxhbj8udGFza3MsIHNldHRpbmdzLmN1cnJlbmN5XSk7XG5cbiAgY29uc3QgaGFuZGxlR2VuZXJhdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkQ2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBhbGVydCgnQWRkIGF0IGxlYXN0IG9uZSBjYXJkIG9uIHlvdXIgZGFzaGJvYXJkIGJlZm9yZSBjcmVhdGluZyBhIGdhbWVwbGFuLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFN0YXR1cygnZ2VuZXJhdGluZycpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgY29uc3QgY2FyZHNGb3JQYXlsb2FkID0gc2VsZWN0ZWRDYXJkcy5tYXAoY2FyZCA9PiB7XG4gICAgICBjb25zdCBzbmFwc2hvdCA9IHN1bW1hcnkuY2FyZHNTbmFwc2hvdC5maW5kKGVudHJ5ID0+IGVudHJ5LmNhcmRJZCA9PT0gY2FyZC5pZCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBjYXJkLmlkLFxuICAgICAgICBuYW1lOiBjYXJkLm5hbWUsXG4gICAgICAgIGFubnVhbEZlZTogY2FyZC5hbm51YWxGZWUsXG4gICAgICAgIHN1bW1hcnk6IGNhcmQuc3VtbWFyeSxcbiAgICAgICAgcmVhbGl6ZWQ6IHNuYXBzaG90Py5yZWFsaXplZCA/PyAwLFxuICAgICAgICBwb3RlbnRpYWw6IHNuYXBzaG90Py5wb3RlbnRpYWwgPz8gY2FyZC5wZXJrcy5yZWR1Y2UoKHRvdGFsLCBwZXJrKSA9PiB0b3RhbCArIHBlcmsuY2FzaFZhbHVlLCAwKSxcbiAgICAgICAgY2FwdHVyZVJhdGU6IHNuYXBzaG90Py5jYXB0dXJlUmF0ZSA/PyAwLFxuICAgICAgICBuZXRSb2k6IHNuYXBzaG90Py5uZXRSb2kgPz8gMCxcbiAgICAgICAgcGVya3M6IGNhcmQucGVya3MubWFwKHBlcmsgPT4gKHtcbiAgICAgICAgICBpZDogcGVyay5pZCxcbiAgICAgICAgICB0aXRsZTogcGVyay50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcGVyay5kZXNjcmlwdGlvbixcbiAgICAgICAgICBjYXNoVmFsdWU6IHBlcmsuY2FzaFZhbHVlLFxuICAgICAgICAgIGNhZGVuY2U6IHBlcmsuY2FkZW5jZSxcbiAgICAgICAgICB0YWdzOiBwZXJrLnRhZ3NcbiAgICAgICAgfSkpXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZ2FtZXBsYW4nLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHF1YXJ0ZXI6IHBsYW4/LnF1YXJ0ZXIgPz8gZ2V0VXBjb21pbmdRdWFydGVyKCksXG4gICAgICAgICAgY2FyZHM6IGNhcmRzRm9yUGF5bG9hZFxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JCb2R5ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JCb2R5Py5lcnJvciA/PyAnRmFpbGVkIHRvIGdlbmVyYXRlIGdhbWVwbGFuJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXBsYWNlUGxhbihkYXRhLnBsYW4sIHsgbW9kZWw6IEdBTUVQTEFOX01PREVMIH0pO1xuICAgICAgY2xlYXJDaGF0KCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdHYW1lcGxhbiBnZW5lcmF0aW9uIGZhaWxlZCcsIGVycik7XG4gICAgICBzZXRFcnJvcignQ291bGQgbm90IGJ1aWxkIGEgZ2FtZXBsYW4gcmlnaHQgbm93LiBHaXZlIGl0IGFub3RoZXIgc2hvdCBpbiBhIG1pbnV0ZS4nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U3RhdHVzKCdpZGxlJyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPENhcmRQcmltaXRpdmU+XG4gICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0zIHBiLTIgc206ZmxleC1yb3cgc206aXRlbXMtY2VudGVyIHNtOmp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5PdmVyYWxsIFByb2dyZXNzPC9DYXJkVGl0bGU+XG4gICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIHtmb3JtYXRDdXJyZW5jeShmaWx0ZXJlZFRvdGFscy5yZWFsaXplZCwgc2V0dGluZ3MuY3VycmVuY3kpfSBvZiB7Zm9ybWF0Q3VycmVuY3koZmlsdGVyZWRUb3RhbHMucG90ZW50aWFsLCBzZXR0aW5ncy5jdXJyZW5jeSl9IGJlbmVmaXRzIGNsYWltZWRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlR2VuZXJhdGV9XG4gICAgICAgICAgZGlzYWJsZWQ9e2lzR2VuZXJhdGluZ31cbiAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG9cIlxuICAgICAgICA+XG4gICAgICAgICAge2lzR2VuZXJhdGluZyA/IChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cImgtNCB3LTQgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgV29ya2luZ+KAplxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgIHtwbGFuID8gJ1JlZ2VuZXJhdGUgZ2FtZXBsYW4nIDogJ0NyZWF0ZSBnYW1lcGxhbid9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicHQtMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAge2Zvcm1hdFBlcmNlbnRhZ2UoZmlsdGVyZWRDYXB0dXJlUmF0ZSl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxQcm9ncmVzcyB2YWx1ZT17ZmlsdGVyZWRDYXB0dXJlUmF0ZSAqIDEwMH0gY2xhc3NOYW1lPVwiZmxleC0xXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHsoaXNHZW5lcmF0aW5nIHx8IHBsYW4pICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgc3BhY2UteS0yIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIvNjAgYmctbXV0ZWQvMzAgcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPkdhbWVwbGFuPC9zcGFuPlxuICAgICAgICAgICAgICB7cGxhbj8uZ2VuZXJhdGVkQXQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+VXBkYXRlZCB7Zm9ybWF0VGltZXN0YW1wKHBsYW4uZ2VuZXJhdGVkQXQpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBsZWFkaW5nLTYgdGV4dC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgIHtpc0dlbmVyYXRpbmcgPyAnU2l0IHRpZ2h0LCBraWTigJRJIGFtIHdvcmtpbmcgdGhlIHBob25lcyB0byBzdGl0Y2ggdG9nZXRoZXIgeW91ciBuZXh0IHNjb3JlLicgOiBuYXJyYXRpdmUgPz9cbiAgICAgICAgICAgICAgICAnUGxhbiBpcyBsb2NrZWQgYW5kIGxvYWRlZC4nfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXJlZC01MDBcIj57ZXJyb3J9PC9wPlxuICAgICAgICApfVxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmRQcmltaXRpdmU+XG4gICk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBlcnNvbmFTZW50ZW5jZShcbiAgdGFzazogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0VGFza1NoYXBlPixcbiAgaW5kZXg6IG51bWJlcixcbiAgY2FyZExvb2t1cDogTWFwPHN0cmluZywgUmV0dXJuVHlwZTx0eXBlb2YgZ2V0VGFza0NhcmQ+PiwgXG4gIHBlcmtMb29rdXA6IE1hcDxzdHJpbmcsIHsgdGl0bGU6IHN0cmluZzsgY2FyZElkOiBzdHJpbmcgfT4sXG4gIGN1cnJlbmN5OiBzdHJpbmdcbikge1xuICBpZiAoIXRhc2spIHJldHVybiAnJztcblxuICBjb25zdCBjYXJkSWQgPSB0YXNrLmNhcmRJZCA/PyAodGFzay5wZXJrSWQgPyBwZXJrTG9va3VwLmdldCh0YXNrLnBlcmtJZCk/LmNhcmRJZCA6IHVuZGVmaW5lZCk7XG4gIGNvbnN0IGNhcmROYW1lID0gY2FyZElkID8gY2FyZExvb2t1cC5nZXQoY2FyZElkKT8ubmFtZSA6IHVuZGVmaW5lZDtcbiAgY29uc3QgZHVlTGFiZWwgPSBmb3JtYXRQZXJzb25hRHVlKHRhc2suZHVlQnkpO1xuICBjb25zdCB2YWx1ZUxhYmVsID0gdHlwZW9mIHRhc2suZXhwZWN0ZWRWYWx1ZSA9PT0gJ251bWJlcicgPyBmb3JtYXRDdXJyZW5jeSh0YXNrLmV4cGVjdGVkVmFsdWUsIGN1cnJlbmN5KSA6IG51bGw7XG5cbiAgY29uc3QgYmFzZSA9IGNhcmROYW1lID8gYCR7dGFzay50aXRsZX0gb24gdGhlICR7Y2FyZE5hbWV9YCA6IHRhc2sudGl0bGU7XG5cbiAgY29uc3Qgb3BlbmluZ3MgPSBbXG4gICAgYExpc3Rlbiwga2lk4oCUJHtiYXNlfSBpcyBmaXJzdCBpbiBsaW5lJHt2YWx1ZUxhYmVsID8gYCBhbmQgaXQncyB3b3J0aCAke3ZhbHVlTGFiZWx9YCA6ICcnfSwgc28gJHtkdWVMYWJlbH0uYCxcbiAgICBgVGhlbiBzbGlkZSBzdHJhaWdodCBpbnRvICR7YmFzZX0ke3ZhbHVlTGFiZWwgPyBgIGZvciBhbm90aGVyICR7dmFsdWVMYWJlbH1gIDogJyd9OyBJIGRvbid0IHdhbnQgdG8gaGVhciBleGN1c2VzIGFib3V0IHRpbWluZ+KAlCR7ZHVlTGFiZWx9LmAsXG4gICAgYEZpbmlzaCB3aXRoICR7YmFzZX0ke3ZhbHVlTGFiZWwgPyBgIGFuZCBzY29vcCB0aGF0ICR7dmFsdWVMYWJlbH1gIDogJyd9LCBhbmQgZG9uJ3QgbWFrZSBtZSBjaGFzZSB5b3UgZm9yIGl0LmBcbiAgXTtcblxuICByZXR1cm4gb3BlbmluZ3NbTWF0aC5taW4oaW5kZXgsIG9wZW5pbmdzLmxlbmd0aCAtIDEpXTtcbn1cblxuZnVuY3Rpb24gZ2V0VGFza1NoYXBlKHRhc2s6IGFueSkge1xuICByZXR1cm4gdGFzaztcbn1cblxuZnVuY3Rpb24gZ2V0VGFza0NhcmQoY2FyZDogYW55KSB7XG4gIHJldHVybiBjYXJkO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRQZXJzb25hRHVlKHZhbHVlPzogc3RyaW5nIHwgbnVsbCkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuICd3cmFwIGl0IGJlZm9yZSB0aGUgc3VpdHMgbm90aWNlJztcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gIGlmIChOdW1iZXIuaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgcmV0dXJuICdsb2NrIGl0IGRvd24gYmVmb3JlIHRoZSBjbG9jayBydW5zIG91dCc7XG4gIH1cblxuICByZXR1cm4gYGhhdmUgaXQgZG9uZSBiZWZvcmUgJHtkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh1bmRlZmluZWQsIHtcbiAgICBtb250aDogJ3Nob3J0JyxcbiAgICBkYXk6ICdudW1lcmljJ1xuICB9KX1gO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1lc3RhbXAodmFsdWU6IHN0cmluZykge1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICBpZiAoTnVtYmVyLmlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBkYXRlLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwge1xuICAgIG1vbnRoOiAnc2hvcnQnLFxuICAgIGRheTogJ251bWVyaWMnLFxuICAgIGhvdXI6ICdudW1lcmljJyxcbiAgICBtaW51dGU6ICcyLWRpZ2l0J1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0VXBjb21pbmdRdWFydGVyKHJlZmVyZW5jZSA9IG5ldyBEYXRlKCkpIHtcbiAgY29uc3QgY3VycmVudFF1YXJ0ZXIgPSBNYXRoLmZsb29yKHJlZmVyZW5jZS5nZXRNb250aCgpIC8gMykgKyAxO1xuICBjb25zdCBuZXh0UXVhcnRlciA9IGN1cnJlbnRRdWFydGVyID09PSA0ID8gMSA6IGN1cnJlbnRRdWFydGVyICsgMTtcbiAgY29uc3QgeWVhciA9IGN1cnJlbnRRdWFydGVyID09PSA0ID8gcmVmZXJlbmNlLmdldEZ1bGxZZWFyKCkgKyAxIDogcmVmZXJlbmNlLmdldEZ1bGxZZWFyKCk7XG4gIHJldHVybiBgUSR7bmV4dFF1YXJ0ZXJ9ICR7eWVhcn1gO1xufVxuIl0sIm5hbWVzIjpbInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkxvYWRlcjIiLCJTcGFya2xlcyIsIkJ1dHRvbiIsIkNhcmQiLCJDYXJkUHJpbWl0aXZlIiwiQ2FyZENvbnRlbnQiLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwiUHJvZ3Jlc3MiLCJmb3JtYXRDdXJyZW5jeSIsImZvcm1hdFBlcmNlbnRhZ2UiLCJ1c2VTZXR0aW5ncyIsInVzZUZpbHRlcmVkQ2FyZHMiLCJ1c2VHYW1lcGxhbiIsInVzZUp1aWNlU3RhdGUiLCJHQU1FUExBTl9NT0RFTCIsIlN1bW1hcnlDYXJkcyIsInNldHRpbmdzIiwidG90YWxzIiwiZmlsdGVyZWRUb3RhbHMiLCJjYXJkcyIsInNlbGVjdGVkQ2FyZHMiLCJzdW1tYXJ5IiwicGxhbiIsInJlcGxhY2VQbGFuIiwiY2xlYXJDaGF0Iiwic3RhdHVzIiwic2V0U3RhdHVzIiwiZXJyb3IiLCJzZXRFcnJvciIsImlzR2VuZXJhdGluZyIsImZpbHRlcmVkQ2FwdHVyZVJhdGUiLCJwb3RlbnRpYWwiLCJNYXRoIiwibWluIiwicmVhbGl6ZWQiLCJjYXJkTG9va3VwIiwiTWFwIiwibWFwIiwiY2FyZCIsImlkIiwicGVya0xvb2t1cCIsImVudHJpZXMiLCJmbGF0TWFwIiwicGVya3MiLCJwZXJrIiwidGl0bGUiLCJjYXJkSWQiLCJuYXJyYXRpdmUiLCJ0YXNrcyIsImxlbmd0aCIsInNvcnRlZCIsInNvcnQiLCJhIiwiYiIsInZhbHVlRGlmZiIsImV4cGVjdGVkVmFsdWUiLCJwcmlvcml0eVJhbmsiLCJoaWdoIiwibWVkaXVtIiwibG93IiwicHJpb3JpdHkiLCJ0b3BUYXNrcyIsInNsaWNlIiwidGFzayIsImluZGV4IiwiY3JlYXRlUGVyc29uYVNlbnRlbmNlIiwiY3VycmVuY3kiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsImhhbmRsZUdlbmVyYXRlIiwiYWxlcnQiLCJjYXJkc0ZvclBheWxvYWQiLCJzbmFwc2hvdCIsImNhcmRzU25hcHNob3QiLCJmaW5kIiwiZW50cnkiLCJuYW1lIiwiYW5udWFsRmVlIiwicmVkdWNlIiwidG90YWwiLCJjYXNoVmFsdWUiLCJjYXB0dXJlUmF0ZSIsIm5ldFJvaSIsImRlc2NyaXB0aW9uIiwiY2FkZW5jZSIsInRhZ3MiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicXVhcnRlciIsImdldFVwY29taW5nUXVhcnRlciIsIm9rIiwiZXJyb3JCb2R5IiwianNvbiIsImNhdGNoIiwiRXJyb3IiLCJkYXRhIiwibW9kZWwiLCJlcnIiLCJjb25zb2xlIiwiY2xhc3NOYW1lIiwiZGl2Iiwic3BhbiIsImFyaWEtaGlkZGVuIiwib25DbGljayIsImRpc2FibGVkIiwic2l6ZSIsInZhbHVlIiwiZ2VuZXJhdGVkQXQiLCJmb3JtYXRUaW1lc3RhbXAiLCJwIiwicGVya0lkIiwiZ2V0IiwidW5kZWZpbmVkIiwiY2FyZE5hbWUiLCJkdWVMYWJlbCIsImZvcm1hdFBlcnNvbmFEdWUiLCJkdWVCeSIsInZhbHVlTGFiZWwiLCJiYXNlIiwib3BlbmluZ3MiLCJnZXRUYXNrU2hhcGUiLCJnZXRUYXNrQ2FyZCIsImRhdGUiLCJEYXRlIiwiTnVtYmVyIiwiaXNOYU4iLCJnZXRUaW1lIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwibW9udGgiLCJkYXkiLCJ0b0xvY2FsZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJyZWZlcmVuY2UiLCJjdXJyZW50UXVhcnRlciIsImZsb29yIiwiZ2V0TW9udGgiLCJuZXh0UXVhcnRlciIsInllYXIiLCJnZXRGdWxsWWVhciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/dashboard/summary-cards.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./hooks/use-gameplan.ts":
/*!*******************************!*\
  !*** ./hooks/use-gameplan.ts ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useGameplan: function() { return /* binding */ useGameplan; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _use_local_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-local-storage */ \"(app-pages-browser)/./hooks/use-local-storage.ts\");\n/* __next_internal_client_entry_do_not_use__ useGameplan auto */ \n\nconst STORAGE_KEY = \"juice-gameplan-v1\";\nconst DEFAULT_GAMEPLAN_MODEL = \"gpt-5\";\nconst INITIAL_STATE = {\n    plan: null,\n    chatHistory: [],\n    status: \"idle\"\n};\nfunction createId(prefix) {\n    const random = typeof crypto !== \"undefined\" && crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).slice(2, 10);\n    return \"\".concat(prefix, \"-\").concat(random);\n}\nfunction useGameplan() {\n    const [state, setState] = (0,_use_local_storage__WEBPACK_IMPORTED_MODULE_1__.useLocalStorage)(STORAGE_KEY, INITIAL_STATE);\n    const replacePlan = function(content) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        const timestamp = new Date().toISOString();\n        setState((prev)=>{\n            var _prev_plan;\n            const nextId = options.preserveIdentity && prev.plan ? prev.plan.id : createId(\"gameplan\");\n            var _options_model, _ref;\n            const model = (_ref = (_options_model = options.model) !== null && _options_model !== void 0 ? _options_model : (_prev_plan = prev.plan) === null || _prev_plan === void 0 ? void 0 : _prev_plan.model) !== null && _ref !== void 0 ? _ref : DEFAULT_GAMEPLAN_MODEL;\n            return {\n                plan: {\n                    ...content,\n                    id: nextId,\n                    generatedAt: timestamp,\n                    model\n                },\n                chatHistory: options.keepChat ? prev.chatHistory : [],\n                status: \"idle\"\n            };\n        });\n    };\n    const clearPlan = ()=>setState(INITIAL_STATE);\n    const appendMessage = (message)=>{\n        var _message_timestamp;\n        const timestamp = (_message_timestamp = message.timestamp) !== null && _message_timestamp !== void 0 ? _message_timestamp : new Date().toISOString();\n        setState((prev)=>{\n            var _prev_status;\n            return {\n                ...prev,\n                status: (_prev_status = prev.status) !== null && _prev_status !== void 0 ? _prev_status : \"idle\",\n                chatHistory: [\n                    ...prev.chatHistory,\n                    {\n                        ...message,\n                        role: message.role,\n                        content: message.content,\n                        id: createId(\"msg\"),\n                        timestamp\n                    }\n                ]\n            };\n        });\n    };\n    const clearChat = ()=>setState((prev)=>{\n            var _prev_status;\n            return {\n                ...prev,\n                status: (_prev_status = prev.status) !== null && _prev_status !== void 0 ? _prev_status : \"idle\",\n                chatHistory: []\n            };\n        });\n    const setChatHistory = (messages)=>setState((prev)=>{\n            var _prev_status;\n            return {\n                ...prev,\n                status: (_prev_status = prev.status) !== null && _prev_status !== void 0 ? _prev_status : \"idle\",\n                chatHistory: messages\n            };\n        });\n    const hasPlan = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>Boolean(state.plan), [\n        state.plan\n    ]);\n    const setStatus = (nextStatus)=>setState((prev)=>({\n                ...prev,\n                status: nextStatus\n            }));\n    var _state_status;\n    const status = (_state_status = state.status) !== null && _state_status !== void 0 ? _state_status : \"idle\";\n    var _state_plan;\n    return {\n        plan: (_state_plan = state.plan) !== null && _state_plan !== void 0 ? _state_plan : undefined,\n        chatHistory: state.chatHistory,\n        hasPlan,\n        status,\n        replacePlan,\n        clearPlan,\n        appendMessage,\n        clearChat,\n        setChatHistory,\n        setStatus\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZS1nYW1lcGxhbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O2lFQUVnQztBQUNzQjtBQWlCdEQsTUFBTUUsY0FBYztBQUNwQixNQUFNQyx5QkFBeUI7QUFFL0IsTUFBTUMsZ0JBQXFDO0lBQ3pDQyxNQUFNO0lBQ05DLGFBQWEsRUFBRTtJQUNmQyxRQUFRO0FBQ1Y7QUFFQSxTQUFTQyxTQUFTQyxNQUFjO0lBQzlCLE1BQU1DLFNBQVMsT0FBT0MsV0FBVyxlQUFlQSxPQUFPQyxVQUFVLEdBQzdERCxPQUFPQyxVQUFVLEtBQ2pCQyxLQUFLSCxNQUFNLEdBQUdJLFFBQVEsQ0FBQyxJQUFJQyxLQUFLLENBQUMsR0FBRztJQUN4QyxPQUFPLEdBQWFMLE9BQVZELFFBQU8sS0FBVSxPQUFQQztBQUN0QjtBQUVPLFNBQVNNO0lBQ2QsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdqQixtRUFBZUEsQ0FBc0JDLGFBQWFFO0lBRTVFLE1BQU1lLGNBQWMsU0FBQ0M7WUFBMEJDLDJFQUE4QixDQUFDO1FBQzVFLE1BQU1DLFlBQVksSUFBSUMsT0FBT0MsV0FBVztRQUV4Q04sU0FBU08sQ0FBQUE7Z0JBRXdCQTtZQUQvQixNQUFNQyxTQUFTTCxRQUFRTSxnQkFBZ0IsSUFBSUYsS0FBS3BCLElBQUksR0FBR29CLEtBQUtwQixJQUFJLENBQUN1QixFQUFFLEdBQUdwQixTQUFTO2dCQUNqRWEsZ0JBQUFBO1lBQWQsTUFBTVEsUUFBUVIsQ0FBQUEsT0FBQUEsQ0FBQUEsaUJBQUFBLFFBQVFRLEtBQUssY0FBYlIsNEJBQUFBLGtCQUFpQkksYUFBQUEsS0FBS3BCLElBQUksY0FBVG9CLGlDQUFBQSxXQUFXSSxLQUFLLGNBQWpDUixrQkFBQUEsT0FBcUNsQjtZQUVuRCxPQUFPO2dCQUNMRSxNQUFNO29CQUNKLEdBQUdlLE9BQU87b0JBQ1ZRLElBQUlGO29CQUNKSSxhQUFhUjtvQkFDYk87Z0JBQ0Y7Z0JBQ0F2QixhQUFhZSxRQUFRVSxRQUFRLEdBQUdOLEtBQUtuQixXQUFXLEdBQUcsRUFBRTtnQkFDckRDLFFBQVE7WUFDVjtRQUNGO0lBQ0Y7SUFFQSxNQUFNeUIsWUFBWSxJQUFNZCxTQUFTZDtJQUVqQyxNQUFNNkIsZ0JBQWdCLENBQUNDO1lBQ0hBO1FBQWxCLE1BQU1aLFlBQVlZLENBQUFBLHFCQUFBQSxRQUFRWixTQUFTLGNBQWpCWSxnQ0FBQUEscUJBQXFCLElBQUlYLE9BQU9DLFdBQVc7UUFFN0ROLFNBQVNPLENBQUFBO2dCQUVDQTttQkFGUTtnQkFDaEIsR0FBR0EsSUFBSTtnQkFDUGxCLFFBQVFrQixDQUFBQSxlQUFBQSxLQUFLbEIsTUFBTSxjQUFYa0IsMEJBQUFBLGVBQWU7Z0JBQ3ZCbkIsYUFBYTt1QkFDUm1CLEtBQUtuQixXQUFXO29CQUNuQjt3QkFDRSxHQUFHNEIsT0FBTzt3QkFDVkMsTUFBTUQsUUFBUUMsSUFBSTt3QkFDbEJmLFNBQVNjLFFBQVFkLE9BQU87d0JBQ3hCUSxJQUFJcEIsU0FBUzt3QkFDYmM7b0JBQ0Y7aUJBQ0Q7WUFDSDtRQUFBO0lBQ0Y7SUFFQSxNQUFNYyxZQUFZLElBQ2hCbEIsU0FBU08sQ0FBQUE7Z0JBRUNBO21CQUZRO2dCQUNoQixHQUFHQSxJQUFJO2dCQUNQbEIsUUFBUWtCLENBQUFBLGVBQUFBLEtBQUtsQixNQUFNLGNBQVhrQiwwQkFBQUEsZUFBZTtnQkFDdkJuQixhQUFhLEVBQUU7WUFDakI7UUFBQTtJQUVGLE1BQU0rQixpQkFBaUIsQ0FBQ0MsV0FDdEJwQixTQUFTTyxDQUFBQTtnQkFFQ0E7bUJBRlE7Z0JBQ2hCLEdBQUdBLElBQUk7Z0JBQ1BsQixRQUFRa0IsQ0FBQUEsZUFBQUEsS0FBS2xCLE1BQU0sY0FBWGtCLDBCQUFBQSxlQUFlO2dCQUN2Qm5CLGFBQWFnQztZQUNmO1FBQUE7SUFFRixNQUFNQyxVQUFVdkMsOENBQU9BLENBQUMsSUFBTXdDLFFBQVF2QixNQUFNWixJQUFJLEdBQUc7UUFBQ1ksTUFBTVosSUFBSTtLQUFDO0lBRS9ELE1BQU1vQyxZQUFZLENBQUNDLGFBQ2pCeEIsU0FBU08sQ0FBQUEsT0FBUztnQkFDaEIsR0FBR0EsSUFBSTtnQkFDUGxCLFFBQVFtQztZQUNWO1FBRWF6QjtJQUFmLE1BQU1WLFNBQVNVLENBQUFBLGdCQUFBQSxNQUFNVixNQUFNLGNBQVpVLDJCQUFBQSxnQkFBZ0I7UUFHdkJBO0lBRFIsT0FBTztRQUNMWixNQUFNWSxDQUFBQSxjQUFBQSxNQUFNWixJQUFJLGNBQVZZLHlCQUFBQSxjQUFjMEI7UUFDcEJyQyxhQUFhVyxNQUFNWCxXQUFXO1FBQzlCaUM7UUFDQWhDO1FBQ0FZO1FBQ0FhO1FBQ0FDO1FBQ0FHO1FBQ0FDO1FBQ0FJO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2UtZ2FtZXBsYW4udHM/ZmFjZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMb2NhbFN0b3JhZ2UgfSBmcm9tICcuL3VzZS1sb2NhbC1zdG9yYWdlJztcbmltcG9ydCB7IEdhbWVwbGFuQ2hhdE1lc3NhZ2UsIEdhbWVwbGFuQ29udGVudCwgR2FtZXBsYW5SZWNvcmQgfSBmcm9tICdAL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgR2FtZXBsYW5TdGF0dXMgPSAnaWRsZScgfCAnZ2VuZXJhdGluZyc7XG5cbmludGVyZmFjZSBTdG9yZWRHYW1lcGxhblN0YXRlIHtcbiAgcGxhbjogR2FtZXBsYW5SZWNvcmQgfCBudWxsO1xuICBjaGF0SGlzdG9yeTogR2FtZXBsYW5DaGF0TWVzc2FnZVtdO1xuICBzdGF0dXM/OiBHYW1lcGxhblN0YXR1cztcbn1cblxuaW50ZXJmYWNlIFJlcGxhY2VQbGFuT3B0aW9ucyB7XG4gIG1vZGVsPzogc3RyaW5nO1xuICBrZWVwQ2hhdD86IGJvb2xlYW47XG4gIHByZXNlcnZlSWRlbnRpdHk/OiBib29sZWFuO1xufVxuXG5jb25zdCBTVE9SQUdFX0tFWSA9ICdqdWljZS1nYW1lcGxhbi12MSc7XG5jb25zdCBERUZBVUxUX0dBTUVQTEFOX01PREVMID0gJ2dwdC01JztcblxuY29uc3QgSU5JVElBTF9TVEFURTogU3RvcmVkR2FtZXBsYW5TdGF0ZSA9IHtcbiAgcGxhbjogbnVsbCxcbiAgY2hhdEhpc3Rvcnk6IFtdLFxuICBzdGF0dXM6ICdpZGxlJ1xufTtcblxuZnVuY3Rpb24gY3JlYXRlSWQocHJlZml4OiBzdHJpbmcpIHtcbiAgY29uc3QgcmFuZG9tID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLnJhbmRvbVVVSURcbiAgICA/IGNyeXB0by5yYW5kb21VVUlEKClcbiAgICA6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDEwKTtcbiAgcmV0dXJuIGAke3ByZWZpeH0tJHtyYW5kb219YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdhbWVwbGFuKCkge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZUxvY2FsU3RvcmFnZTxTdG9yZWRHYW1lcGxhblN0YXRlPihTVE9SQUdFX0tFWSwgSU5JVElBTF9TVEFURSk7XG5cbiAgY29uc3QgcmVwbGFjZVBsYW4gPSAoY29udGVudDogR2FtZXBsYW5Db250ZW50LCBvcHRpb25zOiBSZXBsYWNlUGxhbk9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIHNldFN0YXRlKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV4dElkID0gb3B0aW9ucy5wcmVzZXJ2ZUlkZW50aXR5ICYmIHByZXYucGxhbiA/IHByZXYucGxhbi5pZCA6IGNyZWF0ZUlkKCdnYW1lcGxhbicpO1xuICAgICAgY29uc3QgbW9kZWwgPSBvcHRpb25zLm1vZGVsID8/IHByZXYucGxhbj8ubW9kZWwgPz8gREVGQVVMVF9HQU1FUExBTl9NT0RFTDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGxhbjoge1xuICAgICAgICAgIC4uLmNvbnRlbnQsXG4gICAgICAgICAgaWQ6IG5leHRJZCxcbiAgICAgICAgICBnZW5lcmF0ZWRBdDogdGltZXN0YW1wLFxuICAgICAgICAgIG1vZGVsXG4gICAgICAgIH0sXG4gICAgICAgIGNoYXRIaXN0b3J5OiBvcHRpb25zLmtlZXBDaGF0ID8gcHJldi5jaGF0SGlzdG9yeSA6IFtdLFxuICAgICAgICBzdGF0dXM6ICdpZGxlJ1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjbGVhclBsYW4gPSAoKSA9PiBzZXRTdGF0ZShJTklUSUFMX1NUQVRFKTtcblxuICBjb25zdCBhcHBlbmRNZXNzYWdlID0gKG1lc3NhZ2U6IE9taXQ8R2FtZXBsYW5DaGF0TWVzc2FnZSwgJ2lkJyB8ICd0aW1lc3RhbXAnPiAmIFBhcnRpYWw8UGljazxHYW1lcGxhbkNoYXRNZXNzYWdlLCAndGltZXN0YW1wJz4+KSA9PiB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbWVzc2FnZS50aW1lc3RhbXAgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIHN0YXR1czogcHJldi5zdGF0dXMgPz8gJ2lkbGUnLFxuICAgICAgY2hhdEhpc3Rvcnk6IFtcbiAgICAgICAgLi4ucHJldi5jaGF0SGlzdG9yeSxcbiAgICAgICAge1xuICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICBpZDogY3JlYXRlSWQoJ21zZycpLFxuICAgICAgICAgIHRpbWVzdGFtcFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSkpO1xuICB9O1xuXG4gIGNvbnN0IGNsZWFyQ2hhdCA9ICgpID0+XG4gICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIHN0YXR1czogcHJldi5zdGF0dXMgPz8gJ2lkbGUnLFxuICAgICAgY2hhdEhpc3Rvcnk6IFtdXG4gICAgfSkpO1xuXG4gIGNvbnN0IHNldENoYXRIaXN0b3J5ID0gKG1lc3NhZ2VzOiBHYW1lcGxhbkNoYXRNZXNzYWdlW10pID0+XG4gICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIHN0YXR1czogcHJldi5zdGF0dXMgPz8gJ2lkbGUnLFxuICAgICAgY2hhdEhpc3Rvcnk6IG1lc3NhZ2VzXG4gICAgfSkpO1xuXG4gIGNvbnN0IGhhc1BsYW4gPSB1c2VNZW1vKCgpID0+IEJvb2xlYW4oc3RhdGUucGxhbiksIFtzdGF0ZS5wbGFuXSk7XG5cbiAgY29uc3Qgc2V0U3RhdHVzID0gKG5leHRTdGF0dXM6IEdhbWVwbGFuU3RhdHVzKSA9PlxuICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBzdGF0dXM6IG5leHRTdGF0dXNcbiAgICB9KSk7XG5cbiAgY29uc3Qgc3RhdHVzID0gc3RhdGUuc3RhdHVzID8/ICdpZGxlJztcblxuICByZXR1cm4ge1xuICAgIHBsYW46IHN0YXRlLnBsYW4gPz8gdW5kZWZpbmVkLFxuICAgIGNoYXRIaXN0b3J5OiBzdGF0ZS5jaGF0SGlzdG9yeSxcbiAgICBoYXNQbGFuLFxuICAgIHN0YXR1cyxcbiAgICByZXBsYWNlUGxhbixcbiAgICBjbGVhclBsYW4sXG4gICAgYXBwZW5kTWVzc2FnZSxcbiAgICBjbGVhckNoYXQsXG4gICAgc2V0Q2hhdEhpc3RvcnksXG4gICAgc2V0U3RhdHVzXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlTWVtbyIsInVzZUxvY2FsU3RvcmFnZSIsIlNUT1JBR0VfS0VZIiwiREVGQVVMVF9HQU1FUExBTl9NT0RFTCIsIklOSVRJQUxfU1RBVEUiLCJwbGFuIiwiY2hhdEhpc3RvcnkiLCJzdGF0dXMiLCJjcmVhdGVJZCIsInByZWZpeCIsInJhbmRvbSIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJNYXRoIiwidG9TdHJpbmciLCJzbGljZSIsInVzZUdhbWVwbGFuIiwic3RhdGUiLCJzZXRTdGF0ZSIsInJlcGxhY2VQbGFuIiwiY29udGVudCIsIm9wdGlvbnMiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJwcmV2IiwibmV4dElkIiwicHJlc2VydmVJZGVudGl0eSIsImlkIiwibW9kZWwiLCJnZW5lcmF0ZWRBdCIsImtlZXBDaGF0IiwiY2xlYXJQbGFuIiwiYXBwZW5kTWVzc2FnZSIsIm1lc3NhZ2UiLCJyb2xlIiwiY2xlYXJDaGF0Iiwic2V0Q2hhdEhpc3RvcnkiLCJtZXNzYWdlcyIsImhhc1BsYW4iLCJCb29sZWFuIiwic2V0U3RhdHVzIiwibmV4dFN0YXR1cyIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/use-gameplan.ts\n"));

/***/ })

});